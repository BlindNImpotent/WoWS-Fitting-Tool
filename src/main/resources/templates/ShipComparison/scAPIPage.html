<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="utf-8"/>
    <link rel="icon" th:href="@{/images/Icon/WoWSFT_Icon.png}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/FittingTool/FittingTool.css}" />
    <meta name="viewport" content="width=device-width, initial-scale=0.5, user-scalable=yes" />
    <script th:src="@{/js/jquery/jquery-3.3.1.min.js}"></script>
    <script th:src="@{/js/accounting/accounting.js}"></script>
    <title>WoWS Fitting Tool by Aesis</title>
</head>
<body>
<header>
</header>
<main>
    <th:block th:fragment="shipAPIData" th:unless="${shipAPI == null}">
        <div id="right_tabs" class="right_tabs">
            <div id="tab_right_flightControl" class="button_tab right flightControl select" th:if="${shipAPI.flight_control != null}">Flight Control</div>
            <div id="tab_right_fighters" class="button_tab right fighters" th:if="${shipAPI.flight_control != null and shipAPI.fighters != null}">Fighter</div>
            <div id="tab_right_diveBombers" class="button_tab right diveBombers" th:if="${shipAPI.flight_control != null and shipAPI.dive_bomber != null}">Dive Bomber</div>
            <div id="tab_right_torpBombers" class="button_tab right torpBombers" th:if="${shipAPI.flight_control != null and shipAPI.torpedo_bomber != null}">Torpedo Bomber</div>
            <div id="tab_right_artillery" class="button_tab right artillery select" th:if="${shipAPI.artillery != null}">Artillery</div>
            <div id="tab_right_heShells" class="button_tab right heShells" th:if="${shipAPI.artillery != null and shipAPI.artillery.shells != null and shipAPI.artillery.shells.?[value.type == 'HE'].size() > 0}">HE Shell</div>
            <div id="tab_right_apShells" class="button_tab right apShells" th:if="${shipAPI.artillery != null and shipAPI.artillery.shells != null and shipAPI.artillery.shells.?[value.type == 'AP'].size() > 0}">AP Shell</div>
            <div id="tab_right_torpedoes" class="button_tab right torpedoes" th:if="${shipAPI.torpedoes != null}">Torpedoes</div>
            <div id="tab_right_AA" class="button_tab right AA" th:if="${shipAPI.anti_aircraft != null}">Anti Air</div>
            <div id="tab_right_secondary" class="button_tab right secondary" th:if="${shipAPI.shipComponents.atba != null}">Secondary</div>
            <div id="tab_right_hull" class="button_tab right hull" th:if="${shipAPI.hull != null}">Hull</div>
            <div id="tab_right_mobility" class="button_tab right mobility" th:if="${shipAPI.mobility != null}">Mobility</div>
            <div id="tab_right_concealment" class="button_tab right concealment" th:if="${shipAPI.concealment != null}">Concealment</div>
            <div id="tab_right_consumables" class="button_tab right consumables" th:if="${shipAPI.shipComponents.shipAbilities != null}">Consumables</div>
        </div>
        <div class="right_info_box" style="cursor: unset;">
            <div th:if="${shipAPI.flight_control != null}" id="flightControlStats" class="panel_right flightControl" style="min-width: 300px; text-align: center;">
                <div id="flight_control" style="text-align: center;">
                    <strong>Flight Control</strong><br />
                    <th:block th:if="${shipAPI.shipComponents.airArmament != null}">
                        <span style="float: left;">Total Reserve</span>
                        <span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.shipComponents.airArmament.planesReserveCapacity, 1, 'COMMA')}"/><br />
                    </th:block>
                    <span style="float: left;" th:if="${shipAPI.fighters != null}" th:text="'Fighters'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.fighters != null and shipAPI.fighters.count_in_squadron.max - configurationAPI.fighters.count_in_squadron.max != 0}" th:text="${shipAPI.fighters.count_in_squadron.max - configurationAPI.fighters.count_in_squadron.max > 0 ? '(+' + #numbers.formatInteger(shipAPI.fighters.count_in_squadron.max - configurationAPI.fighters.count_in_squadron.max, 0) + ')' : '(' + #numbers.formatInteger(shipAPI.fighters.count_in_squadron.max - configurationAPI.fighters.count_in_squadron.max, 0) + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.fighters != null}" th:text="${shipAPI.flight_control.fighter_squadrons} + ' X ' + ${shipAPI.fighters != null ? shipAPI.fighters.count_in_squadron.max : 0}"/><br th:if="${shipAPI.fighters != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'Dive Bomber'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.dive_bomber != null and shipAPI.dive_bomber.count_in_squadron.max - configurationAPI.dive_bomber.count_in_squadron.max != 0}" th:text="${shipAPI.dive_bomber.count_in_squadron.max - configurationAPI.dive_bomber.count_in_squadron.max > 0 ? '(+' + #numbers.formatInteger(shipAPI.dive_bomber.count_in_squadron.max - configurationAPI.dive_bomber.count_in_squadron.max, 1, 'COMMA') + ')' : '(' + #numbers.formatInteger(shipAPI.dive_bomber.count_in_squadron.max - configurationAPI.dive_bomber.count_in_squadron.max, 1, 'COMMA') + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${shipAPI.flight_control.bomber_squadrons} + ' X ' + ${shipAPI.dive_bomber.count_in_squadron.max}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'Torpedo Bomber'"/>
                    <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${shipAPI.flight_control.torpedo_squadrons} + ' X ' + ${shipAPI.torpedo_bomber.count_in_squadron.max}"/>
                </div>
            </div>
            <div th:if="${shipAPI.flight_control != null and shipAPI.fighters != null}" id="fightersStats" class="panel_right fighters hide" style="min-width: 300px; text-align: center;">
                <div id="fighters" style="text-align: center;">
                    <strong style="float: left;" th:if="${shipAPI.fighters != null}" th:text="${shipAPI.fighters.name}"/><br th:if="${shipAPI.fighters != null}"/>
                    <span style="float: left;" th:if="${shipAPI.fighters != null}" th:text="'Tier'"/>
                    <span style="float: right;" th:if="${shipAPI.fighters != null}" th:text="${shipAPI.fighters.plane_level}"/><br th:if="${shipAPI.fighters != null}"/>
                    <span style="float: left;" th:if="${shipAPI.fighters != null}" th:text="'Speed'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.fighters != null and shipAPI.fighters.cruise_speed - configurationAPI.fighters.cruise_speed != 0}" th:text="${shipAPI.fighters.cruise_speed - configurationAPI.fighters.cruise_speed > 0 ? '(+' + #numbers.formatDecimal(shipAPI.fighters.cruise_speed - configurationAPI.fighters.cruise_speed, 1, 1) + ')' : '(' + #numbers.formatDecimal(shipAPI.fighters.cruise_speed - configurationAPI.fighters.cruise_speed, 1, 1) + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.fighters != null}" th:text="${#numbers.formatDecimal(shipAPI.fighters.cruise_speed, 1, 1) + ' kts'}"/><br th:if="${shipAPI.fighters != null}"/>
                    <span style="float: left;" th:if="${shipAPI.fighters != null}" th:text="'Preparation'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.fighters != null and shipAPI.fighters.prepare_time - configurationAPI.fighters.prepare_time != 0}" th:text="${shipAPI.fighters.prepare_time - configurationAPI.fighters.prepare_time > 0 ? '(+' + #numbers.formatDecimal(shipAPI.fighters.prepare_time - configurationAPI.fighters.prepare_time, 1, 1) + ')' : '(' + #numbers.formatDecimal(shipAPI.fighters.prepare_time - configurationAPI.fighters.prepare_time, 1, 1) + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.fighters != null}" th:text="${#numbers.formatDecimal(shipAPI.fighters.prepare_time, 1, 1) + ' s'}"/><br th:if="${shipAPI.fighters != null}"/>
                    <span style="float: left;" th:if="${shipAPI.fighters != null}" th:text="'Health'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.fighters != null and shipAPI.fighters.max_health - configurationAPI.fighters.max_health != 0}" th:text="${shipAPI.fighters.max_health - configurationAPI.fighters.max_health > 0 ? '(+' + #numbers.formatInteger(shipAPI.fighters.max_health - configurationAPI.fighters.max_health, 1, 'COMMA') + ')' : '(' + #numbers.formatInteger(shipAPI.fighters.max_health - configurationAPI.fighters.max_health, 1, 'COMMA') + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.fighters != null}" th:text="${#numbers.formatInteger(shipAPI.fighters.max_health, 1, 'COMMA') + ' hp'}"/><br th:if="${shipAPI.fighters != null}"/>
                    <span style="float: left;" th:if="${shipAPI.fighters != null}" th:text="'Average Damage'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.fighters != null and shipAPI.fighters.avg_damage - configurationAPI.fighters.avg_damage != 0}" th:text="${shipAPI.fighters.avg_damage - configurationAPI.fighters.avg_damage > 0 ? '(+' + #numbers.formatInteger(shipAPI.fighters.avg_damage - configurationAPI.fighters.avg_damage, 1, 'COMMA') + ')' : '(' + #numbers.formatInteger(shipAPI.fighters.avg_damage - configurationAPI.fighters.avg_damage, 1, 'COMMA') + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.fighters != null}" th:text="${shipAPI.fighters.avg_damage + ' dps'}"/><br th:if="${shipAPI.fighters != null}"/>
                    <span style="float: left;" th:if="${shipAPI.fighters != null}" th:text="'Ammo Count'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.fighters != null and shipAPI.fighters.max_ammo - configurationAPI.fighters.max_ammo != 0}" th:text="${shipAPI.fighters.max_ammo - configurationAPI.fighters.max_ammo > 0 ? '(+' + #numbers.formatInteger(shipAPI.fighters.max_ammo - configurationAPI.fighters.max_ammo, 1, 'COMMA') + ')' : '(' + #numbers.formatInteger(shipAPI.fighters.max_ammo - configurationAPI.fighters.max_ammo, 1, 'COMMA') + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.fighters != null}" th:text="${shipAPI.fighters.max_ammo}"/>
                </div>
            </div>
            <div th:if="${shipAPI.flight_control != null and shipAPI.dive_bomber != null}" id="diveBombersStats" class="panel_right diveBombers hide" style="min-width: 300px; text-align: center;">
                <div id="diveBombers" style="text-align: center;">
                    <strong style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="${shipAPI.dive_bomber.name}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'Tier'"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${shipAPI.dive_bomber.plane_level}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'Speed'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.dive_bomber != null and shipAPI.dive_bomber.cruise_speed - configurationAPI.dive_bomber.cruise_speed != 0}" th:text="${shipAPI.dive_bomber.cruise_speed - configurationAPI.dive_bomber.cruise_speed > 0 ? '(+' + #numbers.formatDecimal(shipAPI.dive_bomber.cruise_speed - configurationAPI.dive_bomber.cruise_speed, 1, 1) + ')' : '(' + #numbers.formatDecimal(shipAPI.dive_bomber.cruise_speed - configurationAPI.dive_bomber.cruise_speed, 1, 1) + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.dive_bomber.cruise_speed, 1, 1) + ' kts'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'Preparation'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.dive_bomber != null and shipAPI.dive_bomber.prepare_time - configurationAPI.dive_bomber.prepare_time != 0}" th:text="${shipAPI.dive_bomber.prepare_time - configurationAPI.dive_bomber.prepare_time > 0 ? '(+' + #numbers.formatDecimal(shipAPI.dive_bomber.prepare_time - configurationAPI.dive_bomber.prepare_time, 1, 1) + ')' : '(' + #numbers.formatDecimal(shipAPI.dive_bomber.prepare_time - configurationAPI.dive_bomber.prepare_time, 1, 1) + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.dive_bomber.prepare_time, 1, 1) + ' s'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'Health'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.dive_bomber != null and shipAPI.dive_bomber.max_health - configurationAPI.dive_bomber.max_health != 0}" th:text="${shipAPI.dive_bomber.max_health - configurationAPI.dive_bomber.max_health > 0 ? '(+' + #numbers.formatInteger(shipAPI.dive_bomber.max_health - configurationAPI.dive_bomber.max_health, 1, 'COMMA') + ')' : '(' + #numbers.formatInteger(shipAPI.dive_bomber.max_health - configurationAPI.dive_bomber.max_health, 1, 'COMMA') + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatInteger(shipAPI.dive_bomber.max_health, 1, 'COMMA') + ' hp'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'Rear Gunner'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.dive_bomber != null and shipAPI.dive_bomber.gunner_damage - configurationAPI.dive_bomber.gunner_damage != 0}" th:text="${shipAPI.dive_bomber.gunner_damage - configurationAPI.dive_bomber.gunner_damage > 0 ? '(+' + #numbers.formatDecimal(shipAPI.dive_bomber.gunner_damage - configurationAPI.dive_bomber.gunner_damage, 1, 1) + ')' : '(' + #numbers.formatDecimal(shipAPI.dive_bomber.gunner_damage - configurationAPI.dive_bomber.gunner_damage, 1, 1) + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.dive_bomber.gunner_damage, 1, 1) + ' dps'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <u style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="${shipAPI.dive_bomber.bomb_name}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float:left;" th:if="${shipAPI.dive_bomber != null}" th:text="'Weight'"/>
                    <span style="float:right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatInteger(shipAPI.dive_bomber.bomb_bullet_mass, 1, 'COMMA') + ' kg'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <th:block th:if="${shipAPI.shipComponents.diveBomber != null and shipAPI.shipComponents.diveBomber.bomb.burnProbHundred > 0}">
                        <span style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'Burn Probability'"/>
                        <span style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.diveBomber.bomb.burnProbHundred - configurationAPI.shipComponents.diveBomber.bomb.burnProbHundred != 0}" th:text="${shipAPI.shipComponents.diveBomber.bomb.burnProbHundred - configurationAPI.shipComponents.diveBomber.bomb.burnProbHundred > 0 ? '(+' + #numbers.formatInteger(shipAPI.shipComponents.diveBomber.bomb.burnProbHundred - configurationAPI.shipComponents.diveBomber.bomb.burnProbHundred, 1, 'COMMA') + ')' : '(' + #numbers.formatInteger(shipAPI.shipComponents.diveBomber.bomb.burnProbHundred - configurationAPI.shipComponents.diveBomber.bomb.burnProbHundred, 1, 'COMMA') + ')'}"/>
                        <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${#numbers.formatInteger(shipAPI.shipComponents.diveBomber.bomb.burnProbHundred, 1, 'COMMA') + ' %'}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    </th:block>
                    <span style="float:left;" th:if="${shipAPI.dive_bomber != null}" th:text="'Drop Time'"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'- Auto'"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.diveBomber.plane.bombFallingTime, 1, 1) + ' s'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'- Manual'"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.diveBomber.plane.bombFallingTimeGround, 1, 1) + ' s'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float:left;" th:if="${shipAPI.dive_bomber != null}" th:text="'Accuracy'"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'- Auto'"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.dive_bomber.accuracy.min * shipAPI.shipComponents.diveBomber.plane.bombSalvoCoef[0], 1, 1) + ' X ' + #numbers.formatDecimal(shipAPI.dive_bomber.accuracy.max * shipAPI.shipComponents.diveBomber.plane.bombSalvoCoef[1], 1, 1) + ' m'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'- Auto vs AA'"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.dive_bomber.accuracy.min * shipAPI.shipComponents.diveBomber.plane.bombSalvoCoefDefense[0], 1, 1) + ' X ' + #numbers.formatDecimal(shipAPI.dive_bomber.accuracy.max * shipAPI.shipComponents.diveBomber.plane.bombSalvoCoefDefense[1], 1, 1) + ' m'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'- Manual'"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.dive_bomber.accuracy.min * shipAPI.shipComponents.diveBomber.plane.bombSalvoCoefGround[0], 1, 1) + ' X ' + #numbers.formatDecimal(shipAPI.dive_bomber.accuracy.max * shipAPI.shipComponents.diveBomber.plane.bombSalvoCoefGround[1], 1, 1) + ' m'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'- Manual vs AA'"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.dive_bomber.accuracy.min * shipAPI.shipComponents.diveBomber.plane.bombSalvoCoefGroundDefense[0], 1, 1) + ' X ' + #numbers.formatDecimal(shipAPI.dive_bomber.accuracy.max * shipAPI.shipComponents.diveBomber.plane.bombSalvoCoefGroundDefense[1], 1, 1) + ' m'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float:left;" th:if="${shipAPI.dive_bomber != null}" th:text="'Damage'"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatInteger(shipAPI.dive_bomber.bomb_damage, 1, 'COMMA') + ' hp'}"/><br th:if="${shipAPI.dive_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.dive_bomber != null}" th:text="'- Per Squadron'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.dive_bomber != null and shipAPI.dive_bomber.count_in_squadron.max - configurationAPI.dive_bomber.count_in_squadron.max != 0}" th:text="${(shipAPI.dive_bomber.count_in_squadron.max * shipAPI.dive_bomber.bomb_damage - configurationAPI.dive_bomber.count_in_squadron.max * configurationAPI.dive_bomber.bomb_damage) > 0 ? '(+' + #numbers.formatInteger(shipAPI.dive_bomber.count_in_squadron.max * shipAPI.dive_bomber.bomb_damage - configurationAPI.dive_bomber.count_in_squadron.max * configurationAPI.dive_bomber.bomb_damage, 1, 'COMMA') + ')' : '(' + #numbers.formatInteger(shipAPI.dive_bomber.count_in_squadron.max * shipAPI.dive_bomber.bomb_damage - configurationAPI.dive_bomber.count_in_squadron.max * configurationAPI.dive_bomber.bomb_damage, 1, 'COMMA') + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.dive_bomber != null}" th:text="${#numbers.formatInteger(shipAPI.dive_bomber.count_in_squadron.max * shipAPI.dive_bomber.bomb_damage, 1, 'COMMA') + ' hp'}"/>
                </div>
            </div>
            <div th:if="${shipAPI.flight_control != null and shipAPI.torpedo_bomber != null}" id="torpBombersStats" class="panel_right torpBombers hide" style="min-width: 300px; text-align: center;">
                <div id="torpBombers" style="text-align: center;">
                    <strong style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${shipAPI.torpedo_bomber.name}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'Tier'"/>
                    <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${shipAPI.torpedo_bomber.plane_level}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'Speed'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.torpedo_bomber != null and shipAPI.torpedo_bomber.cruise_speed - configurationAPI.torpedo_bomber.cruise_speed != 0}" th:text="${shipAPI.torpedo_bomber.cruise_speed - configurationAPI.torpedo_bomber.cruise_speed > 0 ? '(+' + #numbers.formatDecimal(shipAPI.torpedo_bomber.cruise_speed - configurationAPI.torpedo_bomber.cruise_speed, 1, 1) + ')' : '(' + #numbers.formatDecimal(shipAPI.torpedo_bomber.cruise_speed - configurationAPI.torpedo_bomber.cruise_speed, 1, 1) + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.torpedo_bomber.cruise_speed, 1, 1) + ' kts'}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'Preparation'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.torpedo_bomber != null and shipAPI.torpedo_bomber.prepare_time - configurationAPI.torpedo_bomber.prepare_time != 0}" th:text="${shipAPI.torpedo_bomber.prepare_time - configurationAPI.torpedo_bomber.prepare_time > 0 ? '(+' + #numbers.formatDecimal(shipAPI.torpedo_bomber.prepare_time - configurationAPI.torpedo_bomber.prepare_time, 1, 1) + ')' : '(' + #numbers.formatDecimal(shipAPI.torpedo_bomber.prepare_time - configurationAPI.torpedo_bomber.prepare_time, 1, 1) + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.torpedo_bomber.prepare_time, 1, 1) + ' s'}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'Health'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.torpedo_bomber != null and shipAPI.torpedo_bomber.max_health - configurationAPI.torpedo_bomber.max_health != 0}" th:text="${shipAPI.torpedo_bomber.max_health - configurationAPI.torpedo_bomber.max_health > 0 ? '(+' + #numbers.formatInteger(shipAPI.torpedo_bomber.max_health - configurationAPI.torpedo_bomber.max_health, 1, 'COMMA') + ')' : '(' + #numbers.formatInteger(shipAPI.torpedo_bomber.max_health - configurationAPI.torpedo_bomber.max_health, 1, 'COMMA') + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${#numbers.formatInteger(shipAPI.torpedo_bomber.max_health, 1, 'COMMA') + ' hp'}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'Rear Gunner'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.torpedo_bomber != null and shipAPI.torpedo_bomber.gunner_damage - configurationAPI.torpedo_bomber.gunner_damage != 0}" th:text="${shipAPI.torpedo_bomber.gunner_damage - configurationAPI.torpedo_bomber.gunner_damage > 0 ? '(+' + #numbers.formatDecimal(shipAPI.torpedo_bomber.gunner_damage - configurationAPI.torpedo_bomber.gunner_damage, 1, 1) + ')' : '(' + #numbers.formatDecimal(shipAPI.torpedo_bomber.gunner_damage - configurationAPI.torpedo_bomber.gunner_damage, 1, 1) + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.torpedo_bomber.gunner_damage, 1, 1) + ' dps'}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    <u style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${shipAPI.torpedo_bomber.torpedo_name}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'Speed'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.torpedo_bomber != null and shipAPI.torpedo_bomber.torpedo_max_speed - configurationAPI.torpedo_bomber.torpedo_max_speed != 0}" th:text="${shipAPI.torpedo_bomber.torpedo_max_speed - configurationAPI.torpedo_bomber.torpedo_max_speed > 0 ? '(+' + #numbers.formatInteger(shipAPI.torpedo_bomber.torpedo_max_speed - configurationAPI.torpedo_bomber.torpedo_max_speed, 1, 'COMMA') + ')' : '(' + #numbers.formatInteger(shipAPI.torpedo_bomber.torpedo_max_speed - configurationAPI.torpedo_bomber.torpedo_max_speed, 1, 'COMMA') + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${#numbers.formatInteger(shipAPI.torpedo_bomber.torpedo_max_speed, 1, 'COMMA') + ' kts'}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'Distance'"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.torpedo_bomber != null and shipAPI.torpedo_bomber.torpedo_distance - configurationAPI.torpedo_bomber.torpedo_distance != 0}" th:text="${shipAPI.torpedo_bomber.torpedo_distance - configurationAPI.torpedo_bomber.torpedo_distance > 0 ? '(+' + #numbers.formatDecimal(shipAPI.torpedo_bomber.torpedo_distance - configurationAPI.torpedo_bomber.torpedo_distance, 1, 1) + ')' : '(' + #numbers.formatDecimal(shipAPI.torpedo_bomber.torpedo_distance - configurationAPI.torpedo_bomber.torpedo_distance, 1, 1) + ')'}"/>
                    <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${#numbers.formatDecimal(shipAPI.torpedo_bomber.torpedo_distance, 1, 1) + ' km'}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    <th:block th:if="${shipAPI.shipComponents.torpedoBomber != null}">
                        <span style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'Flood Probability'"/>
                        <span style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.torpedoBomber.torpedo.uwCritical - configurationAPI.shipComponents.torpedoBomber.torpedo.uwCritical != 0}" th:text="${shipAPI.shipComponents.torpedoBomber.torpedo.uwCritical - configurationAPI.shipComponents.torpedoBomber.torpedo.uwCritical > 0 ? '(+' + #numbers.formatInteger(shipAPI.shipComponents.torpedoBomber.torpedo.uwCriticalHundred - configurationAPI.shipComponents.torpedoBomber.torpedo.uwCriticalHundred, 1, 'COMMA') + ')' : '(' + #numbers.formatInteger(shipAPI.shipComponents.torpedoBomber.torpedo.uwCriticalHundred - configurationAPI.shipComponents.torpedoBomber.torpedo.uwCriticalHundred, 1, 'COMMA') + ')'}"/>
                        <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${#numbers.formatInteger(shipAPI.shipComponents.torpedoBomber.torpedo.uwCriticalHundred, 1, 'COMMA') + ' %'}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    </th:block>
                    <span style="float:left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'Damage'"/>
                    <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${#numbers.formatInteger(shipAPI.torpedo_bomber.torpedo_damage, 1, 'COMMA') + ' hp'}"/><br th:if="${shipAPI.torpedo_bomber != null}"/>
                    <span style="float: left;" th:if="${shipAPI.torpedo_bomber != null}" th:text="'-Per Squadron'"/>
                    <span style="float: right;" th:if="${shipAPI.torpedo_bomber != null}" th:text="${#numbers.formatInteger(shipAPI.torpedo_bomber.count_in_squadron.max * shipAPI.torpedo_bomber.torpedo_damage, 1, 'COMMA') + ' hp'}"/>
                </div>
            </div>
            <div th:if="${shipAPI.artillery != null}" id="artilleryStats" class="panel_right artillery" style="min-width: 300px; text-align: center;">
                <div id="artillery">
                    <strong>Main Battery</strong><br />
                    <li th:each="slot : ${shipAPI.artillery.slots}" name="guns">
                        <u style="float: left;" th:text="${slot.value.guns} + ' X ' + ${slot.value.barrels} + ' ' + ${slot.value.name}"/><br />
                    </li>
                    <span style="float:left;">Distance</span>
                    <span style="float: right;" th:if="${configurationAPI != null and (shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000 != 0}" th:text="${(shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000 > 0 ? ' (+' + #numbers.formatDecimal((shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000, 1, 2) + ')' : ' (' + #numbers.formatDecimal((shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000, 1, 2) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.maxDist / 1000, 1, 2)} + ' km'"/><br />
                    <th:block th:if="${shipAPI.shipComponents.artillery != null}">
                        <span style="float:left;">Sigma</span>
                        <span style="float: right" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.sigmaCount, 1, 2)}"/><br />
                    </th:block>
                    <span style="float:left;">Dispersion</span><br />
                    <span style="float:left;">- Max Dispersion</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.artillery.max_dispersion - configurationAPI.artillery.max_dispersion != 0}" th:text="${shipAPI.artillery.max_dispersion - configurationAPI.artillery.max_dispersion > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.artillery.max_dispersion - configurationAPI.artillery.max_dispersion, 1, 1) + ')' : ' (' + #numbers.formatDecimal(shipAPI.artillery.max_dispersion - configurationAPI.artillery.max_dispersion, 1, 1) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.artillery.max_dispersion, 1, 1)} + ' m'"/><br />
                    <th:block th:if="${shipAPI.shipComponents.artillery != null}">
                        <span style="float:left;">- Min H Dispersion</span>
                        <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.minDistH, 1, 0)} + ' m'"/><br />
                        <span style="float:left;">- Min V Dispersion</span>
                        <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.minDistV, 1, 0)} + ' m'"/><br />
                    </th:block>
                    <span style="float:left;">Reload</span>
                    <span id="reloadDiff" style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.artillery.shotDelay - configurationAPI.shipComponents.artillery.shotDelay != 0}" th:text="${shipAPI.shipComponents.artillery.shotDelay - configurationAPI.shipComponents.artillery.shotDelay > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.shotDelay - configurationAPI.shipComponents.artillery.shotDelay, 1, 2) + ')' : ' (' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.shotDelay - configurationAPI.shipComponents.artillery.shotDelay, 1, 2) + ')'}"/>
                    <span id="reload" style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.shotDelay, 0 ,2)} + ' s'"/><br />
                    <span style="float:left;">RoF</span>
                    <span id="rofDiff" style="float: right;" th:if="${configurationAPI != null and 60 / shipAPI.shipComponents.artillery.shotDelay - 60 / configurationAPI.shipComponents.artillery.shotDelay != 0}" th:text="${60 / shipAPI.shipComponents.artillery.shotDelay - 60 / configurationAPI.shipComponents.artillery.shotDelay > 0 ? ' (+' + #numbers.formatDecimal(60 / shipAPI.shipComponents.artillery.shotDelay - 60 / configurationAPI.shipComponents.artillery.shotDelay, 1, 2) + ')' : ' (' + #numbers.formatDecimal(60 / shipAPI.shipComponents.artillery.shotDelay - 60 / configurationAPI.shipComponents.artillery.shotDelay, 1, 2) + ')'}"/>
                    <span id="rof" style="float: right;" th:text="${#numbers.formatDecimal(60 / shipAPI.shipComponents.artillery.shotDelay, 1, 2)} + ' RPM'"/><br />
                    <span style="float:left;">Rotation / 180 deg</span>
                    <span style="float: right;" th:if="${configurationAPI != null and 180 / shipAPI.shipComponents.artillery.rotationDeg - 180 / configurationAPI.shipComponents.artillery.rotationDeg != 0}" th:text="${180 / shipAPI.shipComponents.artillery.rotationDeg - 180 / configurationAPI.shipComponents.artillery.rotationDeg > 0 ? ' (+' + #numbers.formatDecimal(180 / shipAPI.shipComponents.artillery.rotationDeg - 180 / configurationAPI.shipComponents.artillery.rotationDeg, 1, 2) + ')' : ' (' + #numbers.formatDecimal(180 / shipAPI.shipComponents.artillery.rotationDeg - 180 / configurationAPI.shipComponents.artillery.rotationDeg, 1, 2) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(180 / shipAPI.shipComponents.artillery.rotationDeg, 1, 2)} + ' s'"/><br />
                    <span style="float:left;">Rotation</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.artillery.rotationDeg - configurationAPI.shipComponents.artillery.rotationDeg != 0}" th:text="${shipAPI.shipComponents.artillery.rotationDeg - configurationAPI.shipComponents.artillery.rotationDeg > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.rotationDeg - configurationAPI.shipComponents.artillery.rotationDeg, 1, 2) + ')' : ' (' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.rotationDeg - configurationAPI.shipComponents.artillery.rotationDeg, 1, 2) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.rotationDeg, 1, 2)} + ' deg / s'"/>
                    <br />
                    <br />
                    <th:block th:include="ShipComparison/scAngleSectorArtyPage :: angleSectorArtyPage"></th:block>
                </div>
            </div>
            <div th:if="${shipAPI.artillery != null and shipAPI.artillery.shells != null and shipAPI.artillery.shells.?[value.type == 'HE'].size() > 0}" id="heShellsStats" class="panel_right heShells hide" style="min-width: 300px; text-align: center;">
                <div th:if="${shipAPI.artillery != null and shipAPI.artillery.shells != null}" id="heShells">
                    <li th:if="${shell.value != null}" th:each="shell : ${shipAPI.artillery.shells.?[value.type == 'HE']}">
                        <u style="float: left;" th:text="${shell.value.name} + ' (' + ${shell.value.type} + ')'"/><br/>
                        <div th:id="${shell.value.type + '_shell_div'}">
                            <span style="float:left;">Damage</span>
                            <span style="float: right;"  th:text="${#numbers.formatInteger(shell.value.damage, 1, 'COMMA')} + ' hp'"/><br />
                            <span style="float:left;">-Per Salvo</span>
                            <span style="float: right;" th:id="${shell.value.type == 'HE' ? 'DamageHE' : 'DamageAP'}" th:text="${#numbers.formatInteger(shell.value.damage * shipAPI.artillery.totalGuns, 1, 'COMMA')} + ' hp'"/><br />
                            <span style="float:left;">-DPM</span>
                            <span style="float: right;" th:id="${shell.value.type == 'HE' ? 'DPMDiffHE' : 'DPMDiffAP'}" th:if="${configurationAPI != null and 60 / shipAPI.shipComponents.artillery.shotDelay - 60 / configurationAPI.shipComponents.artillery.shotDelay != 0}" th:text="${(shell.value.damage * shipAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / shipAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))) - (shell.value.damage * configurationAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / configurationAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))) > 0 ? '(+' + #numbers.formatInteger((shell.value.damage * shipAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / shipAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))) - (shell.value.damage * configurationAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / configurationAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))), 1, 'COMMA') + ')' : '(' + #numbers.formatInteger((shell.value.damage * shipAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / shipAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))) - (shell.value.damage * configurationAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / configurationAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))), 1, 'COMMA') + ')'}"/>
                            <span style="float: right;" th:id="${shell.value.type == 'HE' ? 'DPMHE' : 'DPMAP'}" th:text="${#numbers.formatInteger(shell.value.damage * shipAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / shipAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT'))), 1, 'COMMA') + ' hp'}"/><br />
                            <span style="float:left;">Speed</span>
                            <span style="float: right;" th:text="${#numbers.formatInteger(shell.value.bullet_speed, 1, 'COMMA')} + ' m / s'"/><br />
                            <span style="float:left;">Mass</span>
                            <span style="float: right;" th:text="${#numbers.formatInteger(shell.value.bullet_mass, 1, 'COMMA')} + ' kg'"/><br />
                            <span style="float:left;">Ricochet</span>
                            <th:block th:if="${shell.value.type == 'HE'}">
                                <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.HEShell.bulletAlwaysRicochetAt, 1, 1) + ' + ' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.HEShell.bulletCapNormalizeMaxAngle, 1, 1)} + ' deg'"/><br />
                                <span th:text="'Penetration'" style="float:left;"/>
                                <th:block th:if="${configurationAPI != null}">
                                    <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.HEShell.penetrationIFHE != 0}" th:text="${'(+' + (shipAPI.shipComponents.artillery.HEShell.penetrationIFHE - shipAPI.shipComponents.artillery.HEShell.alphaPiercingHE) + ')'}"/>
                                </th:block>
                                <span style="float: right;" th:text="${#numbers.formatInteger((IFHE == null ? shipAPI.shipComponents.artillery.HEShell.alphaPiercingHE : shipAPI.shipComponents.artillery.HEShell.penetrationIFHE), 0, 'COMMA') + ' mm'}"/><br />
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 5 and shipAPI.shipComponents.artillery.HEShell.flightTimeAtFive > 0}" th:text="'Flight Time'"/><br />
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 5 and shipAPI.shipComponents.artillery.HEShell.flightTimeAtFive > 0}" th:text="'- 5 km'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 5 and shipAPI.shipComponents.artillery.HEShell.flightTimeAtFive > 0}" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.HEShell.flightTimeAtFive, 1, 2) + ' s'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 5}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10 and shipAPI.shipComponents.artillery.HEShell.flightTimeAtTen > 0}" th:text="'- 10 km'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10 and shipAPI.shipComponents.artillery.HEShell.flightTimeAtTen > 0}" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.HEShell.flightTimeAtTen, 1, 2) + ' s'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 15 and shipAPI.shipComponents.artillery.HEShell.flightTimeAtFifteen > 0}" th:text="'- 15 km'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 15 and shipAPI.shipComponents.artillery.HEShell.flightTimeAtFifteen > 0}" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.HEShell.flightTimeAtFifteen, 1, 2) + ' s'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 15}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 20 and shipAPI.shipComponents.artillery.HEShell.flightTimeAtTwenty > 0}" th:text="'- 20 km'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 20 and shipAPI.shipComponents.artillery.HEShell.flightTimeAtTwenty > 0}" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.HEShell.flightTimeAtTwenty, 1, 2) + ' s'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 20}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.HEShell.flightTimeAtMax > 0}" th:text="${'- ' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.maxDist / 1000, 1, 2) + ' km'}"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.HEShell.flightTimeAtMax > 0}" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.HEShell.flightTimeAtMax, 1, 2) + ' s'}"/><br th:if="${shipAPI.shipComponents.artillery.HEShell.flightTimeAtMax > 0}"/>
                            </th:block>
                            <span th:text="'Burn Probability'" th:if="${shell.value.burn_probability > 0}" style="float: left;"/>
                            <th:block th:if="${configurationAPI != null}">
                                <th:block th:if="${defaultShell.value != null and defaultShell.value.burn_probability > 0 and defaultShell.value.type == shell.value.type}" th:each="defaultShell : ${configurationAPI.artillery.shells}">
                                    <span style="float: right;" th:if="${shell.value.burn_probability - defaultShell.value.burn_probability != 0 and shell.value.burn_probability > 0}" th:text="${shell.value.burn_probability - defaultShell.value.burn_probability > 0 ? ' (+' + #numbers.formatDecimal(shell.value.burn_probability - defaultShell.value.burn_probability, 1, 1) + ')' : ' (' + #numbers.formatDecimal(shell.value.burn_probability - defaultShell.value.burn_probability, 1, 1) + ')'}"/>
                                </th:block>
                            </th:block>
                            <span style="float: right;" th:if="${shell.value.burn_probability > 0}" th:text="${#numbers.formatDecimal(shell.value.burn_probability, 1, 1)} + ' %'"/><br th:if="${shell.value.burn_probability > 0}"/>
                            <span th:text="'- Per Salvo'" th:if="${shell.value.burn_probability > 0}" style="float: left;"/>
                            <th:block th:if="${configurationAPI != null}">
                                <th:block th:if="${defaultShell.value != null and defaultShell.value.burn_probability > 0 and defaultShell.value.type == shell.value.type}" th:each="defaultShell : ${configurationAPI.artillery.shells}">
                                    <span style="float: right;" th:if="${shell.value.burn_probability - defaultShell.value.burn_probability != 0 and shell.value.burn_probability > 0}" th:text="${shell.value.burn_probability - defaultShell.value.burn_probability > 0 ? ' (+' + #numbers.formatDecimal((100 - (T(java.lang.Math).pow((100 - shell.value.burn_probability) / 100, shipAPI.artillery.totalGuns)) * 100) - (100 - (T(java.lang.Math).pow((100 - defaultShell.value.burn_probability) / 100, configurationAPI.artillery.totalGuns)) * 100), 1, 1) + ')' : ' (' + #numbers.formatDecimal((100 - (T(java.lang.Math).pow((100 - shell.value.burn_probability) / 100, shipAPI.artillery.totalGuns)) * 100) - (100 - (T(java.lang.Math).pow((100 - defaultShell.value.burn_probability) / 100, configurationAPI.artillery.totalGuns)) * 100), 1, 1) + ')'}"/>
                                </th:block>
                            </th:block>
                            <span style="float: right;" th:if="${shell.value.burn_probability > 0}" th:text="${#numbers.formatDecimal((100 - (T(java.lang.Math).pow((100 - shell.value.burn_probability) / 100, shipAPI.artillery.totalGuns)) * 100), 1, 1)} + ' %'"/><br th:if="${shell.value.burn_probability > 0}"/>
                        </div>
                    </li>
                </div>
            </div>
            <div th:if="${shipAPI.artillery != null and shipAPI.artillery.shells != null and shipAPI.artillery.shells.?[value.type == 'AP'].size() > 0}" id="apShellsStats" class="panel_right apShells hide" style="min-width: 300px; text-align: center;">
                <div th:if="${shipAPI.artillery != null and shipAPI.artillery.shells != null}" id="apShells">
                    <li th:if="${shell.value != null}" th:each="shell : ${shipAPI.artillery.shells.?[value.type == 'AP']}">
                        <u style="float: left;" th:text="${shell.value.name} + ' (' + ${shell.value.type} + ')'"/><br/>
                        <div th:id="${shell.value.type + '_shell_div'}">
                            <span style="float:left;">Damage</span>
                            <span style="float: right;"  th:text="${#numbers.formatInteger(shell.value.damage, 1, 'COMMA')} + ' hp'"/><br />
                            <span style="float:left;">-Per Salvo</span>
                            <span style="float: right;" th:id="${shell.value.type == 'HE' ? 'DamageHE' : 'DamageAP'}" th:text="${#numbers.formatInteger(shell.value.damage * shipAPI.artillery.totalGuns, 1, 'COMMA')} + ' hp'"/><br />
                            <span style="float:left;">-DPM</span>
                            <span style="float: right;" th:id="${shell.value.type == 'HE' ? 'DPMDiffHE' : 'DPMDiffAP'}" th:if="${configurationAPI != null and 60 / shipAPI.shipComponents.artillery.shotDelay - 60 / configurationAPI.shipComponents.artillery.shotDelay != 0}" th:text="${(shell.value.damage * shipAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / shipAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))) - (shell.value.damage * configurationAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / configurationAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))) > 0 ? '(+' + #numbers.formatInteger((shell.value.damage * shipAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / shipAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))) - (shell.value.damage * configurationAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / configurationAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))), 1, 'COMMA') + ')' : '(' + #numbers.formatInteger((shell.value.damage * shipAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / shipAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))) - (shell.value.damage * configurationAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / configurationAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT')))), 1, 'COMMA') + ')'}"/>
                            <span style="float: right;" th:id="${shell.value.type == 'HE' ? 'DPMHE' : 'DPMAP'}" th:text="${#numbers.formatInteger(shell.value.damage * shipAPI.artillery.totalGuns * (T(Float).parseFloat(#numbers.formatDecimal((60 / shipAPI.shipComponents.artillery.shotDelay), 1, 2, 'POINT'))), 1, 'COMMA') + ' hp'}"/><br />
                            <span style="float:left;">Speed</span>
                            <span style="float: right;" th:text="${#numbers.formatInteger(shell.value.bullet_speed, 1, 'COMMA')} + ' m / s'"/><br />
                            <span style="float:left;">Mass</span>
                            <span style="float: right;" th:text="${#numbers.formatInteger(shell.value.bullet_mass, 1, 'COMMA')} + ' kg'"/><br />
                            <span style="float:left;">Ricochet</span>
                            <th:block th:if="${shell.value.type == 'AP'}">
                                <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.bulletAlwaysRicochetAt, 1, 1) + ' + ' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.bulletCapNormalizeMaxAngle, 1, 1)} + ' deg'"/><br />
                                <span style="float: left;" th:text="'Vertical Dispersion (Target Lock)'" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10 and shipAPI.shipComponents.artillery.APShell.vertMinusAtTen > 0 and shipAPI.shipComponents.artillery.APShell.vertPlusAtTen > 0}" th:text="'- 10 km'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10 and shipAPI.shipComponents.artillery.APShell.vertMinusAtTen > 0 and shipAPI.shipComponents.artillery.APShell.vertPlusAtTen > 0}" th:text="${#numbers.formatDecimal((10000 - shipAPI.shipComponents.artillery.APShell.vertMinusAtTen / 2) / 1000, 1, 2) + ' ~ ' + #numbers.formatDecimal((10000 + shipAPI.shipComponents.artillery.APShell.vertPlusAtTen / 2) / 1000, 1, 2) + ' km'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 15 and shipAPI.shipComponents.artillery.APShell.vertMinusAtFifteen > 0 and shipAPI.shipComponents.artillery.APShell.vertPlusAtFifteen > 0}" th:text="'- 15 km'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 15 and shipAPI.shipComponents.artillery.APShell.vertMinusAtFifteen > 0 and shipAPI.shipComponents.artillery.APShell.vertPlusAtFifteen > 0}" th:text="${#numbers.formatDecimal((15000 - shipAPI.shipComponents.artillery.APShell.vertMinusAtFifteen / 2) / 1000, 1, 2) + ' ~ ' + #numbers.formatDecimal((15000 + shipAPI.shipComponents.artillery.APShell.vertPlusAtFifteen / 2) / 1000, 1, 2) + ' km'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 15}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 20 and shipAPI.shipComponents.artillery.APShell.vertMinusAtTwenty > 0 and shipAPI.shipComponents.artillery.APShell.vertPlusAtTwenty > 0}" th:text="'- 20 km'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 20 and shipAPI.shipComponents.artillery.APShell.vertMinusAtTwenty > 0 and shipAPI.shipComponents.artillery.APShell.vertPlusAtTwenty > 0}" th:text="${#numbers.formatDecimal((20000 - shipAPI.shipComponents.artillery.APShell.vertMinusAtTwenty / 2) / 1000, 1, 2) + ' ~ ' + #numbers.formatDecimal((20000 + shipAPI.shipComponents.artillery.APShell.vertPlusAtTwenty / 2) / 1000, 1, 2) + ' km'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 20}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10 and shipAPI.shipComponents.artillery.APShell.vertPlusAtMax > 0 and shipAPI.shipComponents.artillery.APShell.vertMinusAtMax > 0}" th:text="${'- ' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.maxDist / 1000, 1, 2) + ' km'}"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10 and shipAPI.shipComponents.artillery.APShell.vertPlusAtMax > 0 and shipAPI.shipComponents.artillery.APShell.vertMinusAtMax > 0}" th:text="${#numbers.formatDecimal((shipAPI.shipComponents.artillery.maxDist - shipAPI.shipComponents.artillery.APShell.vertMinusAtMax / 2) / 1000, 1, 2) + ' ~ ' + #numbers.formatDecimal((shipAPI.shipComponents.artillery.maxDist + shipAPI.shipComponents.artillery.APShell.vertPlusAtMax / 2) / 1000, 1, 2) + ' km'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10 and shipAPI.shipComponents.artillery.APShell.vertPlusAtMax > 0 and shipAPI.shipComponents.artillery.APShell.vertMinusAtMax > 0}"/>
                                <span style="float: left;" th:text="'Penetration'"/><br />
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.APShell != null}" th:text="'- Threshold'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.APShell != null}" th:text="${#numbers.formatInteger(shipAPI.shipComponents.artillery.APShell.bulletDetonatorThreshold, 0, 'COMMA') + ' mm'}"/><br />
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.APShell != null}" th:text="'- Fuse Time'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.APShell != null}" th:text="${shipAPI.shipComponents.artillery.APShell.bulletDetonator + ' s'}"/><br />
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.APShell != null}" th:text="'- Overmatch'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.APShell != null}" th:text="${shipAPI.shipComponents.artillery.overmatch + ' mm'}"/><br />
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 5 and shipAPI.shipComponents.artillery.APShell.penetrationAtFive > 0}" th:text="'- 5 km'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 5 and shipAPI.shipComponents.artillery.APShell.penetrationAtFive > 0}" th:text="${#numbers.formatInteger(shipAPI.shipComponents.artillery.APShell.penetrationAtFive, 1, 'COMMA') + ' mm (' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.impactAtFive, 1, 2) + ' deg, ' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.flightTimeAtFive, 1, 2) + ' s)'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 5}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10 and shipAPI.shipComponents.artillery.APShell.penetrationAtTen > 0}" th:text="'- 10 km'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10 and shipAPI.shipComponents.artillery.APShell.penetrationAtTen > 0}" th:text="${#numbers.formatInteger(shipAPI.shipComponents.artillery.APShell.penetrationAtTen, 1, 'COMMA') + ' mm (' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.impactAtTen, 1, 2) + ' deg, ' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.flightTimeAtTen, 1, 2) + ' s)'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 10}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 15 and shipAPI.shipComponents.artillery.APShell.penetrationAtFifteen > 0}" th:text="'- 15 km'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 15 and shipAPI.shipComponents.artillery.APShell.penetrationAtFifteen > 0}" th:text="${#numbers.formatInteger(shipAPI.shipComponents.artillery.APShell.penetrationAtFifteen, 1, 'COMMA') + ' mm (' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.impactAtFifteen, 1, 2) + ' deg, ' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.flightTimeAtFifteen, 1, 2) + ' s)'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 15}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 20 and shipAPI.shipComponents.artillery.APShell.penetrationAtTwenty > 0}" th:text="'- 20 km'"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 20 and shipAPI.shipComponents.artillery.APShell.penetrationAtTwenty > 0}" th:text="${#numbers.formatInteger(shipAPI.shipComponents.artillery.APShell.penetrationAtTwenty, 1, 'COMMA') + ' mm (' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.impactAtTwenty, 1, 2) + ' deg, ' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.flightTimeAtTwenty, 1, 2) + ' s)'}"/><br th:if="${shipAPI.shipComponents.artillery.maxDist / 1000 >= 20}"/>
                                <span style="float: left;" th:if="${shipAPI.shipComponents.artillery.APShell.penetrationAtMax > 0}" th:text="${'- ' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.maxDist / 1000, 1, 2) + ' km'}"/>
                                <span style="float: right;" th:if="${shipAPI.shipComponents.artillery.APShell.penetrationAtMax > 0}" th:text="${#numbers.formatInteger(shipAPI.shipComponents.artillery.APShell.penetrationAtMax, 1, 'COMMA') + ' mm (' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.impactAtMax, 1, 2) + ' deg, ' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.APShell.flightTimeAtMax, 1, 2) + ' s)'}"/><br th:if="${shipAPI.shipComponents.artillery.APShell.penetrationAtMax > 0}"/>
                            </th:block>
                        </div>
                    </li>
                </div>
            </div>
            <div th:if="${shipAPI.torpedoes != null}" id="torpedoesStats" class="panel_right torpedoes hide" style="min-width: 300px;">
                <div id="torpedoes">
                    <strong>Torpedoes</strong><br />
                    <li th:each="slot : ${shipAPI.torpedoes.slots}">
                        <u style="float: left;" th:text="${slot.value.guns} + ' X ' + ${slot.value.barrels} + ' ' + ${slot.value.name}"/><br />
                    </li>
                    <span style="float:left;">Damage</span>
                    <span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.torpedoes.max_damage, 1, 'COMMA')} + ' hp'"/><br />
                    <span style="float:left;">Reload</span>
                    <span style="float: right;" th:id="'tReloadDiff'" th:if="${configurationAPI != null and shipAPI.torpedoes.reload_time - configurationAPI.torpedoes.reload_time != 0}" th:text="${shipAPI.torpedoes.reload_time - configurationAPI.torpedoes.reload_time > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.torpedoes.reload_time - configurationAPI.torpedoes.reload_time, 1, 1) + ')' : ' (' + #numbers.formatDecimal(shipAPI.torpedoes.reload_time - configurationAPI.torpedoes.reload_time, 1, 1) + ')'}"/>
                    <span style="float: right;" th:id="'tReload'" th:text="${#numbers.formatDecimal(shipAPI.torpedoes.reload_time, 1, 1)} + ' s'"/><br />
                    <span style="float:left;">Speed</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.torpedoes.torpedo_speed - configurationAPI.torpedoes.torpedo_speed != 0}" th:text="${shipAPI.torpedoes.torpedo_speed - configurationAPI.torpedoes.torpedo_speed > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.torpedoes.torpedo_speed - configurationAPI.torpedoes.torpedo_speed, 1, 1) + ')' : ' (' + #numbers.formatDecimal(shipAPI.torpedoes.torpedo_speed - configurationAPI.torpedoes.torpedo_speed, 1, 1) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.torpedoes.torpedo_speed, 1, 1)} + ' kts'"/><br />
                    <span style="float:left;">Distance</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.torpedoes.distance - configurationAPI.torpedoes.distance != 0}" th:text="${shipAPI.torpedoes.distance - configurationAPI.torpedoes.distance > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.torpedoes.distance - configurationAPI.torpedoes.distance, 1, 1) + ')' : ' (' + #numbers.formatDecimal(shipAPI.torpedoes.distance - configurationAPI.torpedoes.distance, 1, 1) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.torpedoes.distance, 1, 1)} + ' km'"/><br />
                    <span style="float:left;">Visibility</span>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.torpedoes.visibility_dist, 1, 1)} + ' km'"/><br />
                    <span style="float:left;">Reaction</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.torpedoes.torpedo_speed - configurationAPI.torpedoes.torpedo_speed != 0}" th:text="${shipAPI.torpedoes.torpedo_speed - configurationAPI.torpedoes.torpedo_speed > 0 ? ' (' + #numbers.formatDecimal((shipAPI.torpedoes.visibility_dist * 1000 / (shipAPI.torpedoes.torpedo_speed * 2.6)) - (configurationAPI.torpedoes.visibility_dist * 1000 / (configurationAPI.torpedoes.torpedo_speed * 2.6)), 1, 1) + ')' : ' (+' + #numbers.formatDecimal((shipAPI.torpedoes.visibility_dist * 1000 / (shipAPI.torpedoes.torpedo_speed * 2.6)) - (configurationAPI.torpedoes.visibility_dist * 1000 / (configurationAPI.torpedoes.torpedo_speed * 2.6)), 1, 1) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.torpedoes.visibility_dist * 1000 / (shipAPI.torpedoes.torpedo_speed * 2.6), 1, 1)} + ' s'"/><br />
                    <th:block th:if="${shipAPI.shipComponents.torpedoes != null}">
                        <span style="float: left;">Type</span>
                        <span style="float: right;" th:text="${shipAPI.shipComponents.torpedoes.torpedo.isDeepWater ? 'Deep Water' : 'Normal'}"/><br />
                        <span style="float: left;">Flood Probability</span>
                        <span style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.torpedoes.torpedo.uwCritical - configurationAPI.shipComponents.torpedoes.torpedo.uwCritical != 0}" th:text="${shipAPI.shipComponents.torpedoes.torpedo.uwCritical - configurationAPI.shipComponents.torpedoes.torpedo.uwCritical > 0 ? '(+' + #numbers.formatInteger(shipAPI.shipComponents.torpedoes.torpedo.uwCriticalHundred - configurationAPI.shipComponents.torpedoes.torpedo.uwCriticalHundred, 1, 'COMMA') + ')' : '(' + #numbers.formatInteger(shipAPI.shipComponents.torpedoes.torpedo.uwCriticalHundred - configurationAPI.shipComponents.torpedoes.torpedo.uwCriticalHundred, 1, 'COMMA') + ')'}"/>
                        <span style="float: right;" th:text="${shipAPI.shipComponents.torpedoes.torpedo.uwCriticalHundred + ' %'}"/><br />
                    </th:block>
                    <br />
                    <th:block th:include="ShipComparison/scAngleSectorTorpPage :: angleSectorTorpPage"></th:block>
                </div>
            </div>
            <div th:if="${shipAPI.anti_aircraft != null}" id="AAStats" class="panel_right AA hide" style="min-width: 300px;">
                <div th:if="${shipAPI.anti_aircraft != null}" id="anti_aircraft">
                    <strong>Anti Air</strong><br />
                    <li th:each="slot : ${shipAPI.anti_aircraft.slots}" th:id="${slot.value.caliber}">
                        <u style="float: left;" th:text="${slot.value.guns} + ' X ' + ${slot.value.name}"/><br />
                        <span style="float: left;">Aura Type</span><span style="float: right;" th:text="${slot.value.auraType}"></span><br />
                        <span style="float: left;">DPS</span>
                        <th:block th:if="${configurationAPI != null}">
                            <th:block th:if="${configurationAPI.anti_aircraft != null and defaultSlot.value != null and defaultSlot.value.guns == slot.value.guns and defaultSlot.value.name == slot.value.name}" th:each="defaultSlot : ${configurationAPI.anti_aircraft.slots}">
                                <span style="float: right;" th:if="${slot.value.avg_damage - defaultSlot.value.avg_damage != 0}" th:text="${slot.value.avg_damage - defaultSlot.value.avg_damage > 0 ? ' (+' + #numbers.formatDecimal(slot.value.avg_damage - defaultSlot.value.avg_damage, 1, 1) + ')' : ' (' + #numbers.formatDecimal(slot.value.avg_damage - defaultSlot.value.avg_damage, 1, 1) + ')'}"/>
                            </th:block>
                        </th:block>
                        <span style="float: right;" th:text="${#numbers.formatDecimal(slot.value.avg_damage, 1, 1)} + ' dps'"/><br />
                        <span style="float: left;">Distance</span>
                        <th:block th:if="${configurationAPI != null}">
                            <th:block th:if="${configurationAPI.anti_aircraft != null and defaultSlot.value != null and defaultSlot.value.guns == slot.value.guns and defaultSlot.value.name == slot.value.name}" th:each="defaultSlot : ${configurationAPI.anti_aircraft.slots}">
                                <span style="float: right;" th:if="${slot.value.distance - defaultSlot.value.distance != 0}" th:text="${slot.value.distance - defaultSlot.value.distance > 0 ? ' (+' + #numbers.formatDecimal(slot.value.distance - defaultSlot.value.distance, 1, 1) + ')' : ' (' + #numbers.formatDecimal(slot.value.distance - defaultSlot.value.distance, 1, 1) + ')'}"/>
                            </th:block>
                        </th:block>
                        <span style="float: right;" th:text="${#numbers.formatDecimal(slot.value.distance, 1, 1)} + ' km'"/><br />
                    </li>
                    <br />
                </div>
            </div>
            <div th:if="${shipAPI.shipComponents.atba != null}" id="secondaryStats" class="panel_right secondary hide" style="min-width: 300px;">
                <div th:if="${shipAPI.shipComponents.atba != null}" id="atbas">
                    <strong>Secondary</strong><br />
                    <span style="float: left;">Max Distance</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.atba.maxDist - configurationAPI.shipComponents.atba.maxDist != 0}" th:text="${shipAPI.shipComponents.atba.maxDist - configurationAPI.shipComponents.atba.maxDist > 0 ? ' (+' + #numbers.formatDecimal((shipAPI.shipComponents.atba.maxDist - configurationAPI.shipComponents.atba.maxDist) / 1000, 1, 1) + ')' : ' (' + #numbers.formatDecimal((shipAPI.shipComponents.atba.maxDist - configurationAPI.shipComponents.atba.maxDist) / 1000, 1, 1) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.atba.maxDist / 1000, 1, 1)} + ' km'"/><br />
                    <li th:each="secondary : ${shipAPI.shipComponents.atba.secondariesList}" th:if="${!#lists.isEmpty(shipAPI.shipComponents.atba.secondariesList)}">
                        <u style="float: left;" th:text="${secondary.count + ' X ' + secondary.numBarrels + ' ' + secondary.realName}"/><br />
                        <span style="float: left;">Damage</span>
                        <span style="float: right;" th:text="${#numbers.formatInteger(secondary.shell.alphaDamage, 1, 'COMMA')} + ' hp'"/><br />
                        <span style="float: left;">Reload</span>
                        <th:block th:if="${configurationAPI != null}">
                            <th:block th:if="${configurationAPI.shipComponents.atba != null and defaultSecondary != null and defaultSecondary.name == secondary.name}" th:each="defaultSecondary : ${configurationAPI.shipComponents.atba.secondariesList}">
                                <span style="float: right;" th:if="${secondary.shotDelay - defaultSecondary.shotDelay != 0}" th:text="${secondary.shotDelay - defaultSecondary.shotDelay > 0 ? ' (+' + #numbers.formatDecimal(secondary.shotDelay - defaultSecondary.shotDelay, 1, 1) + ')' : ' (' + #numbers.formatDecimal(secondary.shotDelay - defaultSecondary.shotDelay, 1, 1) + ')'}"/>
                            </th:block>
                        </th:block>
                        <span style="float: right;" th:text="${#numbers.formatDecimal(secondary.shotDelay, 1, 1)} + ' s'"/><br />
                        <span style="float: left;">Speed</span>
                        <span style="float: right;" th:text="${#numbers.formatDecimal(secondary.shell.bulletSpeed, 1, 1)} + ' m / s'"/><br />
                        <span style="float: left;">Type</span>
                        <span style="float: right;" th:text="${secondary.shell.ammoType}"/><br />
                        <span style="float: left;">Burn Probability</span>
                        <th:block th:if="${configurationAPI != null}">
                            <th:block th:if="${configurationAPI.shipComponents.atba != null and defaultSecondary != null and defaultSecondary.name == secondary.name}" th:each="defaultSecondary : ${configurationAPI.shipComponents.atba.secondariesList}">
                                <span style="float: right;" th:if="${secondary.shell.burnProbHundred - defaultSecondary.shell.burnProbHundred != 0}" th:text="${secondary.shell.burnProbHundred - defaultSecondary.shell.burnProbHundred > 0 ? ' (+' + #numbers.formatDecimal(secondary.shell.burnProbHundred - defaultSecondary.shell.burnProbHundred, 1, 1) + ')' : ' (' + #numbers.formatDecimal(secondary.shell.burnProbHundred - defaultSecondary.shell.burnProbHundred, 1, 1) + ')'}"/>
                            </th:block>
                        </th:block>
                        <span style="float: right;" th:text="${#numbers.formatDecimal(secondary.shell.burnProbHundred, 1, 1)} + ' %'"/><br />
                    </li>
                    <br />
                </div>
            </div>
            <div th:if="${shipAPI.hull != null}"  id="hullStats" class="panel_right hull hide" style="min-width: 300px;">
                <div id="hull">
                    <strong>Hull</strong><br />
                    <span style="float: left;">Health</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.hull.health - configurationAPI.hull.health != 0}" th:text="${shipAPI.hull.health - configurationAPI.hull.health > 0 ? ' (+' + #numbers.formatInteger(shipAPI.hull.health - configurationAPI.hull.health, 1, 'COMMA') + ')' : ' (' + #numbers.formatInteger(shipAPI.hull.health - configurationAPI.hull.health, 1, 'COMMA') + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.hull.health, 1, 'COMMA') + ' hp'}"/><br />
                    <span style="float: left;">Armour</span>
                    <span style="float: right;" th:text="${shipAPI.hull.range.min} + ' ~ ' + ${shipAPI.hull.range.max} + ' mm'"/><br />
                    <span th:if="${shipAPI.armour.extremities != null and shipAPI.armour.extremities.min > 0 and shipAPI.armour.extremities.max > 0}" style="float: left;">- Bow</span>
                    <span style="float: right;" th:if="${shipAPI.armour.extremities != null and shipAPI.armour.extremities.min > 0 and shipAPI.armour.extremities.max > 0}" th:text="${shipAPI.armour.extremities.min} + ' ~ ' + ${shipAPI.armour.extremities.max} + ' mm'"/><br th:if="${shipAPI.armour.extremities != null and shipAPI.armour.extremities.min > 0 and shipAPI.armour.extremities.max > 0}"/>
                    <span th:text="'- Citadel'" th:if="${shipAPI.armour.citadel.max > 0}" style="float: left;"/><span style="float: right;" th:if="${shipAPI.armour.citadel.max > 0}" th:text="${shipAPI.armour.citadel.max} + ' mm'"/><br th:if="${shipAPI.armour.citadel.max > 0}"/>
                    <span style="float: left;">Burn</span><br />
                    <span style="float: left;">- Nodes</span>
                    <span style="float: right;" th:text="${shipAPI.shipComponents.hull.burnNodesSize}"/><br />
                    <span style="float: left;">-  Reduction</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.hull.burnChanceReduction - configurationAPI.shipComponents.hull.burnChanceReduction != 0}" th:text="${'(+' + #numbers.formatDecimal((shipAPI.shipComponents.hull.burnChanceReduction - configurationAPI.shipComponents.hull.burnChanceReduction) * 100, 1, 1) +')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.hull.burnChanceReduction * 100, 1, 2) + ' %'}"/><br />
                    <span style="float: left;">- Duration</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.hull.burnDuration - configurationAPI.shipComponents.hull.burnDuration != 0}" th:text="${shipAPI.shipComponents.hull.burnDuration - configurationAPI.shipComponents.hull.burnDuration > 0 ? '(' + #numbers.formatDecimal(shipAPI.shipComponents.hull.burnDuration - configurationAPI.shipComponents.hull.burnDuration, 1, 1) + ')' : ' (' + #numbers.formatDecimal(shipAPI.shipComponents.hull.burnDuration - configurationAPI.shipComponents.hull.burnDuration, 1, 1) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.hull.burnDuration, 1, 1)} + ' s'"/><br />
                    <span style="float: left;">Flood</span><br />
                    <span style="float: left;">- Protection</span>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.armour.flood_prob, 1, 0)} + ' %'"/><br />
                    <span style="float: left;">- Probability</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.hull.floodChance - configurationAPI.shipComponents.hull.floodChance != 0}" th:text="${'(' + #numbers.formatDecimal((shipAPI.shipComponents.hull.floodChance - configurationAPI.shipComponents.hull.floodChance) * 100, 1, 1) +')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.shipComponents.hull.floodChance * 100, 1, 'COMMA') + ' %'}"/><br />
                    <span style="float: left;">- Duration</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.hull.floodDuration - configurationAPI.shipComponents.hull.floodDuration != 0}" th:text="${shipAPI.shipComponents.hull.floodDuration - configurationAPI.shipComponents.hull.floodDuration > 0 ? ' (' + #numbers.formatDecimal(shipAPI.shipComponents.hull.floodDuration - configurationAPI.shipComponents.hull.floodDuration, 1, 1) + ')' : ' (' + #numbers.formatDecimal(shipAPI.shipComponents.hull.floodDuration - configurationAPI.shipComponents.hull.floodDuration, 1, 1) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.hull.floodDuration, 1, 1)} + ' s'"/><br />
                    <th:block th:if="${adrenaline == true}">
                        <div id="slider">
                            <input style="width: 70%" type="range" min="1" max="100" th:value="${adrenalineValue}" class="slider" id="arSlider"/>
                            <span style="vertical-align: top;" id="arValue" th:text="${adrenalineValue}"></span><span style="vertical-align: top;"> % hp</span>
                        </div>
                    </th:block>
                </div>
            </div>
            <div th:if="${shipAPI.mobility != null}"  id="mobilityStats" class="panel_right mobility hide" style="min-width: 300px;">
                <div id="mobility">
                    <strong>Mobility</strong><br />
                    <span style="float: left;">Speed</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.mobility.max_speed - configurationAPI.mobility.max_speed != 0}" th:text="${shipAPI.mobility.max_speed - configurationAPI.mobility.max_speed > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.mobility.max_speed - configurationAPI.mobility.max_speed, 1, 1) + ')' : ' (' + #numbers.formatDecimal(shipAPI.mobility.max_speed - configurationAPI.mobility.max_speed, 1, 1) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.mobility.max_speed, 1, 1)} + ' kts'"/><br />
                    <span style="float: left;">Acceleration</span><br />
                    <span style="float: left;">- Engine Output</span>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.engine.histEnginePower / shipAPI.shipComponents.hull.tonnage, 1, 2) + ' HP / Ton'}"/><br />
                    <span style="float: left;">- Forward</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.engine.forwardEngineUpTime - configurationAPI.shipComponents.engine.forwardEngineUpTime != 0}" th:text="${'(' + (shipAPI.shipComponents.engine.forwardEngineUpTime - configurationAPI.shipComponents.engine.forwardEngineUpTime) +')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.shipComponents.engine.forwardEngineUpTime, 1, 'COMMA') + ' s'}"/><br />
                    <span style="float: left;">- Backward</span>
                    <span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.shipComponents.engine.backwardEngineUpTime, 1, 'COMMA') + ' s'}"/><br />
                    <span style="float: left;">Rudder Shift</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.mobility.rudder_time - configurationAPI.mobility.rudder_time != 0}" th:text="${shipAPI.mobility.rudder_time - configurationAPI.mobility.rudder_time > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.mobility.rudder_time - configurationAPI.mobility.rudder_time, 1, 1) + ')' : ' (' + #numbers.formatDecimal(shipAPI.mobility.rudder_time - configurationAPI.mobility.rudder_time, 1, 1) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.mobility.rudder_time, 1, 1)} + ' s'"/><br />
                    <span style="float: left;">Turn Radius</span>
                    <span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.mobility.turning_radius, 1, 'COMMA')} + ' m'"/><br />
                </div>
            </div>
            <div th:if="${shipAPI.concealment != null}"  id="concealmentStats" class="panel_right concealment hide" style="min-width: 300px;">
                <div id="concealment">
                    <strong>Concealment</strong><br />
                    <span style="float:left;">Surface</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.concealment.detect_distance_by_ship - configurationAPI.concealment.detect_distance_by_ship != 0}" th:text="${shipAPI.concealment.detect_distance_by_ship - configurationAPI.concealment.detect_distance_by_ship > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.concealment.detect_distance_by_ship - configurationAPI.concealment.detect_distance_by_ship, 1, 2) + ')' : ' (' + #numbers.formatDecimal(shipAPI.concealment.detect_distance_by_ship - configurationAPI.concealment.detect_distance_by_ship, 1, 2) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.concealment.detect_distance_by_ship, 1, 2)} + ' km'"/><br />
                    <span style="float: left;">- Burn</span>
                    <span style="float: right;" th:text="${'+' + #numbers.formatDecimal(shipAPI.shipComponents.hull.visibilityCoefFire, 1, 2) + ' km'}"/><br />
                    <span style="float: left;">Air</span>
                    <span style="float: right;" th:if="${configurationAPI != null and shipAPI.concealment.detect_distance_by_plane - configurationAPI.concealment.detect_distance_by_plane != 0}" th:text="${shipAPI.concealment.detect_distance_by_plane - configurationAPI.concealment.detect_distance_by_plane > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.concealment.detect_distance_by_plane - configurationAPI.concealment.detect_distance_by_plane, 1, 2) + ')' : ' (' + #numbers.formatDecimal(shipAPI.concealment.detect_distance_by_plane - configurationAPI.concealment.detect_distance_by_plane, 1, 2) + ')'}"/>
                    <span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.concealment.detect_distance_by_plane, 1, 2)} + ' km'"/><br />
                    <span style="float: left;">- Burn</span>
                    <span style="float: right;" th:text="${'+' + #numbers.formatDecimal(shipAPI.shipComponents.hull.visibilityCoefFireByPlane, 1, 2) + ' km'}"/><br />
                    <span style="float: left;">- AA/Secondary</span>
                    <span style="float: right;" th:text="${'+' + #numbers.formatDecimal(shipAPI.shipComponents.hull.visibilityCoefATBAByPlane, 1, 2) + ' km'}"/><br />
                    <span th:text="'Stealth Fire'" th:if="${shipAPI.artillery != null and shipAPI.shipComponents.artillery != null}" style="float: left;"/>
                    <span style="float: right;" th:if="${configurationAPI != null and configurationAPI.shipComponents.artillery != null and (shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000 != 0}" th:text="${(shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000 > 0 ? ' (+' + #numbers.formatDecimal((shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000, 1, 2) + ')' : ' (' + #numbers.formatDecimal((shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000, 1, 2) + ')'}"/>
                    <span th:if="${shipAPI.artillery != null}" style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.maxDist / 1000, 1, 2)} + ' km'"/><br />
                    <span th:text="'Smoke Fire'" th:if="${shipAPI.artillery != null and shipAPI.shipComponents.hull.visibilityCoefGKInSmoke != 0}" style="float: left;"/>
                    <span th:if="${shipAPI.artillery != null and shipAPI.shipComponents.hull.visibilityCoefGKInSmoke != 0}" style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.hull.visibilityCoefGKInSmoke, 1, 2) + ' km'}"/>
                </div>
            </div>
            <div th:if="${shipAPI.shipComponents.shipAbilities != null}" id="consumablesStats" class="panel_right consumables hide" style="min-width: 300px;">
                <th:block th:each="ability : ${shipAPI.shipComponents.shipAbilities}">
                    <th:block th:each="consumable : ${ability.AbilitySlot0.abils}">
                        <th:block th:each="abil : ${shipAPI.shipComponents.abilities}" th:if="${abil.key == consumable[0]}">
                            <div class="consumablesStats abil0" style="display: none;" th:each="type : ${abil.value.types}" th:if="${type.key == consumable[1]}" th:id="${consumable[0] + '_' + consumable[1]}">
                                <strong th:text="${abil.value.globalName}">Slot 1</strong><br />
                                <span style="float:left;">Count: </span><span style="float: right;" th:text="${type.value.numConsumables == -1 or type.value.numConsumables == 0 ? 'Infinite' : type.value.numConsumables}"/><br />
                                <span style="float:left;">Duration: </span><span style="float: right; padding-left: 2em;" th:text="${#numbers.formatInteger(type.value.workTime, 1)} + ' s'"/><br />
                                <span style="float:left;">Reload: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.reloadTime, 1)} + ' s'"/><br />
                                <th:block th:if="${type.value.distShipModified != 0}">
                                    <span style="float: left;">Ship: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.distShipModified, 0, 2) + ' km'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.distTorpedoModified != 0}">
                                    <span style="float: left;">Torpedo: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.distTorpedoModified, 0, 2) + ' km'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.regenerationHPSpeed != 0}">
                                    <span style="float: left;">Repair: </span><span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.hull.health * type.value.regenerationHPSpeed, 0, 'COMMA') + ' hp / s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.lifeTime != 0}">
                                    <span style="float: left;">Smoke: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.lifeTime, 0, 'COMMA') + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.boostCoeffModified != 1 and 'speedBoosters' == type.value.consumableType}">
                                    <span style="float: left;">Speed: </span><span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.mobility.max_speed * type.value.boostCoeffModified, 0, 1) + ' kts'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.boostCoeffModified != 1 and 'artilleryBoosters' == type.value.consumableType and shipAPI.shipComponents.artillery != null}">
                                    <span style="float: left;">Arty Reload: </span><span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.shotDelay * type.value.boostCoeffModified, 0, 2) + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.auraCoeff != 0}">
                                    <span style="float: left;">AA Boost: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.auraCoeff, 0, 2) + ' X'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.torpedoReloadTime != 0}">
                                    <span style="float: left;">Torpedo: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.torpedoReloadTime, 0, 'COMMA') + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.artilleryDistCoeff != 0}">
                                    <span style="float: left;">Range: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.artilleryDistCoeff * shipAPI.shipComponents.artillery.maxDist / 1000, 1, 2) + ' km'}"/><br />
                                </th:block>
                                <br />
                            </div>
                        </th:block>
                    </th:block>
                </th:block>
                <th:block th:each="ability : ${shipAPI.shipComponents.shipAbilities}">
                    <th:block th:each="consumable : ${ability.AbilitySlot1.abils}">
                        <th:block th:each="abil : ${shipAPI.shipComponents.abilities}" th:if="${abil.key == consumable[0]}">
                            <div class="consumablesStats abil1" style="display: none;" th:each="type : ${abil.value.types}" th:if="${type.key == consumable[1]}" th:id="${consumable[0] + '_' + consumable[1]}">
                                <strong th:text="${abil.value.globalName}">Slot 2</strong><br />
                                <span style="float:left;">Count: </span><span style="float: right;" th:text="${type.value.numConsumables == -1 or type.value.numConsumables == 0 ? 'Infinite' : type.value.numConsumables}"/><br />
                                <span style="float:left;">Duration: </span><span style="float: right; padding-left: 2em;" th:text="${#numbers.formatInteger(type.value.workTime, 1)} + ' s'"/><br />
                                <span style="float:left;">Reload: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.reloadTime, 1)} + ' s'"/><br />
                                <th:block th:if="${type.value.distShipModified != 0}">
                                    <span style="float: left;">Ship: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.distShipModified, 0, 2) + ' km'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.distTorpedoModified != 0}">
                                    <span style="float: left;">Torpedo: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.distTorpedoModified, 0, 2) + ' km'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.regenerationHPSpeed != 0}">
                                    <span style="float: left;">Repair: </span><span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.hull.health * type.value.regenerationHPSpeed, 0, 'COMMA') + ' hp / s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.lifeTime != 0}">
                                    <span style="float: left;">Smoke: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.lifeTime, 0, 'COMMA') + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.boostCoeffModified != 1 and 'speedBoosters' == type.value.consumableType}">
                                    <span style="float: left;">Speed: </span><span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.mobility.max_speed * type.value.boostCoeffModified, 0, 1) + ' kts'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.boostCoeffModified != 1 and 'artilleryBoosters' == type.value.consumableType and shipAPI.shipComponents.artillery != null}">
                                    <span style="float: left;">Arty Reload: </span><span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.shotDelay * type.value.boostCoeffModified, 0, 2) + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.auraCoeff != 0}">
                                    <span style="float: left;">AA Boost: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.auraCoeff, 0, 2) + ' X'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.torpedoReloadTime != 0}">
                                    <span style="float: left;">Torpedo: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.torpedoReloadTime, 0, 'COMMA') + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.artilleryDistCoeff != 0}">
                                    <span style="float: left;">Range: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.artilleryDistCoeff * shipAPI.shipComponents.artillery.maxDist / 1000, 1, 2) + ' km'}"/><br />
                                </th:block>
                                <br />
                            </div>
                        </th:block>
                    </th:block>
                </th:block>
                <th:block th:each="ability : ${shipAPI.shipComponents.shipAbilities}">
                    <th:block th:each="consumable : ${ability.AbilitySlot2.abils}">
                        <th:block th:each="abil : ${shipAPI.shipComponents.abilities}" th:if="${abil.key == consumable[0]}">
                            <div class="consumablesStats abil2" style="display: none;" th:each="type : ${abil.value.types}" th:if="${type.key == consumable[1]}" th:id="${consumable[0] + '_' + consumable[1]}">
                                <strong th:text="${abil.value.globalName}">Slot 3</strong><br />
                                <span style="float:left;">Count: </span><span style="float: right;" th:text="${type.value.numConsumables == -1 or type.value.numConsumables == 0 ? 'Infinite' : type.value.numConsumables}"/><br />
                                <span style="float:left;">Duration: </span><span style="float: right; padding-left: 2em;" th:text="${#numbers.formatInteger(type.value.workTime, 1)} + ' s'"/><br />
                                <span style="float:left;">Reload: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.reloadTime, 1)} + ' s'"/><br />
                                <th:block th:if="${type.value.distShipModified != 0}">
                                    <span style="float: left;">Ship: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.distShipModified, 0, 2) + ' km'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.distTorpedoModified != 0}">
                                    <span style="float: left;">Torpedo: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.distTorpedoModified, 0, 2) + ' km'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.regenerationHPSpeed != 0}">
                                    <span style="float: left;">Repair: </span><span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.hull.health * type.value.regenerationHPSpeed, 0, 'COMMA') + ' hp / s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.lifeTime != 0}">
                                    <span style="float: left;">Smoke: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.lifeTime, 0, 'COMMA') + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.boostCoeffModified != 1 and 'speedBoosters' == type.value.consumableType}">
                                    <span style="float: left;">Speed: </span><span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.mobility.max_speed * type.value.boostCoeffModified, 0, 1) + ' kts'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.boostCoeffModified != 1 and 'artilleryBoosters' == type.value.consumableType and shipAPI.shipComponents.artillery != null}">
                                    <span style="float: left;">Arty Reload: </span><span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.shotDelay * type.value.boostCoeffModified, 0, 2) + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.auraCoeff != 0}">
                                    <span style="float: left;">AA Boost: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.auraCoeff, 0, 2) + ' X'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.torpedoReloadTime != 0}">
                                    <span style="float: left;">Torpedo: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.torpedoReloadTime, 0, 'COMMA') + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.artilleryDistCoeff != 0}">
                                    <span style="float: left;">Range: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.artilleryDistCoeff * shipAPI.shipComponents.artillery.maxDist / 1000, 1, 2) + ' km'}"/><br />
                                </th:block>
                                <br />
                            </div>
                        </th:block>
                    </th:block>
                </th:block>
                <th:block th:each="ability : ${shipAPI.shipComponents.shipAbilities}">
                    <th:block th:each="consumable : ${ability.AbilitySlot3.abils}">
                        <th:block th:each="abil : ${shipAPI.shipComponents.abilities}" th:if="${abil.key == consumable[0]}">
                            <div class="consumablesStats abil3" style="display: none;" th:each="type : ${abil.value.types}" th:if="${type.key == consumable[1]}" th:id="${consumable[0] + '_' + consumable[1]}">
                                <strong th:text="${abil.value.globalName}">Slot 4</strong><br />
                                <span style="float:left;">Count: </span><span style="float: right;" th:text="${type.value.numConsumables == -1 or type.value.numConsumables == 0 ? 'Infinite' : type.value.numConsumables}"/><br />
                                <span style="float:left;">Duration: </span><span style="float: right; padding-left: 2em;" th:text="${#numbers.formatInteger(type.value.workTime, 1)} + ' s'"/><br />
                                <span style="float:left;">Reload: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.reloadTime, 1)} + ' s'"/><br />
                                <th:block th:if="${type.value.distShipModified != 0}">
                                    <span style="float: left;">Ship: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.distShipModified, 0, 2) + ' km'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.distTorpedoModified != 0}">
                                    <span style="float: left;">Torpedo: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.distTorpedoModified, 0, 2) + ' km'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.regenerationHPSpeed != 0}">
                                    <span style="float: left;">Repair: </span><span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.hull.health * type.value.regenerationHPSpeed, 0, 'COMMA') + ' hp / s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.lifeTime != 0}">
                                    <span style="float: left;">Smoke: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.lifeTime, 0, 'COMMA') + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.boostCoeffModified != 1 and 'speedBoosters' == type.value.consumableType}">
                                    <span style="float: left;">Speed: </span><span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.mobility.max_speed * type.value.boostCoeffModified, 0, 1) + ' kts'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.boostCoeffModified != 1 and 'artilleryBoosters' == type.value.consumableType and shipAPI.shipComponents.artillery != null}">
                                    <span style="float: left;">Arty Reload: </span><span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.shotDelay * type.value.boostCoeffModified, 0, 2) + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.auraCoeff != 0}">
                                    <span style="float: left;">AA Boost: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.auraCoeff, 0, 2) + ' X'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.torpedoReloadTime != 0}">
                                    <span style="float: left;">Torpedo: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.torpedoReloadTime, 0, 'COMMA') + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.artilleryDistCoeff != 0}">
                                    <span style="float: left;">Range: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.artilleryDistCoeff * shipAPI.shipComponents.artillery.maxDist / 1000, 1, 2) + ' km'}"/><br />
                                </th:block>
                                <br />
                            </div>
                        </th:block>
                    </th:block>
                </th:block>
                <th:block th:each="ability : ${shipAPI.shipComponents.shipAbilities}">
                    <th:block th:each="consumable : ${ability.AbilitySlot4.abils}">
                        <th:block th:each="abil : ${shipAPI.shipComponents.abilities}" th:if="${abil.key == consumable[0]}">
                            <div class="consumablesStats abil4" style="display: none;" th:each="type : ${abil.value.types}" th:if="${type.key == consumable[1]}" th:id="${consumable[0] + '_' + consumable[1]}">
                                <strong th:text="${abil.value.globalName}">Slot 5</strong><br />
                                <span style="float:left;">Count: </span><span style="float: right;" th:text="${type.value.numConsumables == -1 or type.value.numConsumables == 0 ? 'Infinite' : type.value.numConsumables}"/><br />
                                <span style="float:left;">Duration: </span><span style="float: right; padding-left: 2em;" th:text="${#numbers.formatInteger(type.value.workTime, 1)} + ' s'"/><br />
                                <span style="float:left;">Reload: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.reloadTime, 1)} + ' s'"/><br />
                                <th:block th:if="${type.value.distShipModified != 0}">
                                    <span style="float: left;">Ship: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.distShipModified, 0, 2) + ' km'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.distTorpedoModified != 0}">
                                    <span style="float: left;">Torpedo: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.distTorpedoModified, 0, 2) + ' km'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.regenerationHPSpeed != 0}">
                                    <span style="float: left;">Repair: </span><span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.hull.health * type.value.regenerationHPSpeed, 0, 'COMMA') + ' hp / s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.lifeTime != 0}">
                                    <span style="float: left;">Smoke: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.lifeTime, 0, 'COMMA') + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.boostCoeffModified != 1 and 'speedBoosters' == type.value.consumableType}">
                                    <span style="float: left;">Speed: </span><span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.mobility.max_speed * type.value.boostCoeffModified, 0, 1) + ' kts'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.boostCoeffModified != 1 and 'artilleryBoosters' == type.value.consumableType and shipAPI.shipComponents.artillery != null}">
                                    <span style="float: left;">Arty Reload: </span><span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.shotDelay * type.value.boostCoeffModified, 0, 2) + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.auraCoeff != 0}">
                                    <span style="float: left;">AA Boost: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.auraCoeff, 0, 2) + ' X'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.torpedoReloadTime != 0}">
                                    <span style="float: left;">Torpedo: </span><span style="float: right;" th:text="${#numbers.formatInteger(type.value.torpedoReloadTime, 0, 'COMMA') + ' s'}"/><br />
                                </th:block>
                                <th:block th:if="${type.value.artilleryDistCoeff != 0}">
                                    <span style="float: left;">Range: </span><span style="float: right;" th:text="${#numbers.formatDecimal(type.value.artilleryDistCoeff * shipAPI.shipComponents.artillery.maxDist / 1000, 1, 2) + ' km'}"/><br />
                                </th:block>
                                <br />
                            </div>
                        </th:block>
                    </th:block>
                </th:block>
            </div>
        </div>
        <div id="consumablesDataFragment" style="display: none;" th:include="ShipComparison/scConsumablesPage :: consumablesDataFragment"></div>
    </th:block>
</main>
<script th:inline="javascript">
    //    <![CDATA[

    //    ]]>
</script>
</body>
</html>
