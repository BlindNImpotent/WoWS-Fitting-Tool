<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>
    <th:block th:fragment="rightInfo">
        <div th:if="${modules.containsKey('artillery')}" class="panel_right show" data-type="artillery">
            <table>
                <tbody th:with="module=${warship.ShipUpgradeInfo.components.get('artillery').get(positions.get('artillery') - 1)},
                    arty=${warship.compStats.get('artillery').get(modules.get('artillery'))}, turret0=${warship.compStats.get('artillery').get(modules.get('artillery')).turrets.get(0)},
                    suo=${warship.compStats.get('suo').get(modules.get('suo'))}">
                <tr>
                    <td>
                        <th:block th:each="turretType : ${arty.turretTypes}">
                            <strong th:text="${turretType.value.get(0) + ' X ' + turretType.value.get(1) + ' ' + global.get(IDS + turretType.key.toUpperCase())}"></strong><br />
                        </th:block>
                    </td>
                    <td>
                    </td>
                </tr>
                <tr><td th:text="${global.get('IDS_SHIP_PARAM_MAX_DIST')}"></td><td th:text="${#numbers.formatDecimal(arty.maxDist * suo.maxDistCoef / 1000.0, 1, 2)} + ' km'"></td></tr>
                <tr><td th:text="${global.get('IDS_SHIP_PARAM_SHOT_SPEED')}"></td><td th:text="${#numbers.formatDecimal(60.0 / turret0.shotDelay, 1, 1) + ' RPM'}"></td></tr>
                <tr><td th:text="${global.get('IDS_SHIP_PARAM_SHOT_DELAY')}"></td><td th:text="${#numbers.formatDecimal(turret0.shotDelay, 1, 1)} + ' s'"></td></tr>
                <tr><td th:text="${global.get('IDS_ACCURACY')}"></td><td></td></tr>
                <tr><td>- Sigma</td><td th:text="${#numbers.formatDecimal(arty.sigmaCount, 1, 1)} + ' σ'"></td></tr>
                <tr>
                    <td th:text="'- ' + ${global.get('IDS_SHIP_PARAM_DISPERSION')}"></td>
                    <td th:text="${#numbers.formatInteger(((turret0.idealRadius * arty.GMIdealRadius - turret0.minRadius) / 1000.0 * (arty.maxDist * suo.maxDistCoef / 30.0) + turret0.minRadius) * 30.0, 1, 'COMMA')} + ' m'"></td>
                </tr>
                <tr><td>- Min H</td><td th:text="${#numbers.formatInteger(arty.minDistH, 1, 'COMMA')} + ' m'"></td></tr>
                <tr><td>- Min V</td><td th:text="${#numbers.formatInteger(arty.minDistV, 1, 'COMMA')} + ' m'"></td></tr>
                <tr><td th:text="${global.get('IDS_SHIP_PARAM_ROTATION_SPEED')}"></td><td th:text="${#numbers.formatDecimal(turret0.rotationSpeed.get(0), 1, 1)} + ' °/ s'"></td></tr>
                <tr><td th:text="${global.get('IDS_SHIP_PARAM_ROTATION_TIME')}"></td><td th:text="${#numbers.formatDecimal(60.0 * 2.0 / turret0.rotationSpeed.get(0), 1, 1)} + ' s'"></td></tr>
                </tbody>
            </table>
            <th:block th:include="Joint/angleSectorArtyPage :: angleSectorArtyPage"></th:block>
            <!--<li th:if="${shipAPI.shipComponents.artillery != null and !#lists.isEmpty(shipAPI.shipComponents.artillery.turretNames)}" th:each="turretName : ${shipAPI.shipComponents.artillery.turretNames}" name="guns">-->
                <!--<u style="float: left;" th:text="${turretName.value + ' X ' + turretName.key}"/><br />-->
            <!--</li>-->
            <!--<span style="float:left;">Distance</span>-->
            <!--<span style="float: right;" th:if="${configurationAPI != null and (shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000 != 0}" th:text="${(shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000 > 0 ? ' (+' + #numbers.formatDecimal((shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000, 1, 2) + ')' : ' (' + #numbers.formatDecimal((shipAPI.shipComponents.artillery.maxDist - configurationAPI.shipComponents.artillery.maxDist) / 1000, 1, 2) + ')'}"/>-->
            <!--<span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.maxDist / 1000, 1, 2)} + ' km'"/><br />-->
            <!--<th:block th:if="${shipAPI.shipComponents.artillery != null}">-->
                <!--<span style="float:left;">Sigma</span>-->
                <!--<span style="float: right" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.sigmaCount, 1, 2)}"/><br />-->
            <!--</th:block>-->
            <!--<th:block th:if="${shipAPI.shipComponents.artillery != null}">-->
                <!--<span style="float:left;">Dispersion</span><br />-->
                <!--<span style="float:left;">- Max Dispersion</span>-->
                <!--<span style="float: right;" th:text="${#numbers.formatInteger(shipAPI.shipComponents.artillery.maxDispersion, 1, 'COMMA')} + ' m'"/><br />-->
                <!--<span style="float:left;">- Min H Dispersion</span>-->
                <!--<span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.minDistH, 1, 0)} + ' m'"/><br />-->
                <!--<span style="float:left;">- Min V Dispersion</span>-->
                <!--<span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.minDistV, 1, 0)} + ' m'"/><br />-->
            <!--</th:block>-->
            <!--<span style="float:left;">Reload</span>-->
            <!--<span id="reloadDiff" style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.artillery.shotDelay - configurationAPI.shipComponents.artillery.shotDelay != 0}" th:text="${shipAPI.shipComponents.artillery.shotDelay - configurationAPI.shipComponents.artillery.shotDelay > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.shotDelay - configurationAPI.shipComponents.artillery.shotDelay, 1, 2) + ')' : ' (' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.shotDelay - configurationAPI.shipComponents.artillery.shotDelay, 1, 2) + ')'}"/>-->
            <!--<span id="reload" style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.shotDelay, 0 ,2)} + ' s'"/><br />-->
            <!--<span style="float:left;">RoF</span>-->
            <!--<span id="rofDiff" style="float: right;" th:if="${configurationAPI != null and 60 / shipAPI.shipComponents.artillery.shotDelay - 60 / configurationAPI.shipComponents.artillery.shotDelay != 0}" th:text="${60 / shipAPI.shipComponents.artillery.shotDelay - 60 / configurationAPI.shipComponents.artillery.shotDelay > 0 ? ' (+' + #numbers.formatDecimal(60 / shipAPI.shipComponents.artillery.shotDelay - 60 / configurationAPI.shipComponents.artillery.shotDelay, 1, 2) + ')' : ' (' + #numbers.formatDecimal(60 / shipAPI.shipComponents.artillery.shotDelay - 60 / configurationAPI.shipComponents.artillery.shotDelay, 1, 2) + ')'}"/>-->
            <!--<span id="rof" style="float: right;" th:text="${#numbers.formatDecimal(60 / shipAPI.shipComponents.artillery.shotDelay, 1, 2)} + ' RPM'"/><br />-->
            <!--<span style="float:left;">Rotation / 180 deg</span>-->
            <!--<span style="float: right;" th:if="${configurationAPI != null and 180 / shipAPI.shipComponents.artillery.rotationDeg - 180 / configurationAPI.shipComponents.artillery.rotationDeg != 0}" th:text="${180 / shipAPI.shipComponents.artillery.rotationDeg - 180 / configurationAPI.shipComponents.artillery.rotationDeg > 0 ? ' (+' + #numbers.formatDecimal(180 / shipAPI.shipComponents.artillery.rotationDeg - 180 / configurationAPI.shipComponents.artillery.rotationDeg, 1, 2) + ')' : ' (' + #numbers.formatDecimal(180 / shipAPI.shipComponents.artillery.rotationDeg - 180 / configurationAPI.shipComponents.artillery.rotationDeg, 1, 2) + ')'}"/>-->
            <!--<span style="float: right;" th:text="${#numbers.formatDecimal(180 / shipAPI.shipComponents.artillery.rotationDeg, 1, 2)} + ' s'"/><br />-->
            <!--<span style="float:left;">Rotation</span>-->
            <!--<span style="float: right;" th:if="${configurationAPI != null and shipAPI.shipComponents.artillery.rotationDeg - configurationAPI.shipComponents.artillery.rotationDeg != 0}" th:text="${shipAPI.shipComponents.artillery.rotationDeg - configurationAPI.shipComponents.artillery.rotationDeg > 0 ? ' (+' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.rotationDeg - configurationAPI.shipComponents.artillery.rotationDeg, 1, 2) + ')' : ' (' + #numbers.formatDecimal(shipAPI.shipComponents.artillery.rotationDeg - configurationAPI.shipComponents.artillery.rotationDeg, 1, 2) + ')'}"/>-->
            <!--<span style="float: right;" th:text="${#numbers.formatDecimal(shipAPI.shipComponents.artillery.rotationDeg, 1, 2)} + ' deg / s'"/>-->
            <!--<br />-->
            <!--<br />-->
            <!--<th:block th:include="Joint/angleSectorArtyPage :: angleSectorArtyPage"></th:block>-->
        </div>
    </th:block>
</body>
</html>