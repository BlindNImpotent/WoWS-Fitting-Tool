<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/ShipStyle.css}" />

    <script th:src="@{/js/jquery/jquery-1.12.4.js}"></script>
    <script th:src="@{/js/jquery/jquery-ui.js}"></script>
    <script th:src="@{/js/accounting/accounting.js}"></script>

    <title>WoWS Fitting Tool by Aesis</title>

    <script>
        $( function() {
            $( "#shipList" ).menu();
        } );
    </script>
</head>
<body>
<header>
    <div id="header">
        <div id="dropDownList">
                <ul id="shipList">
                    <li th:each="nation : ${nameList.nationList}">
                        <span th:text="${nation}"/>
                        <ul>
                            <li th:each="shipType : ${nameList.shipTypeList}">
                                <span th:text="${shipType}"/>
                                <ul th:if="${nation == 'France' and shipType == 'AirCarrier'}">
                                    <li th:each="FranceAirCarrier : ${nameList.FranceAirCarrierList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${FranceAirCarrier})}">
                                            <span th:text="${FranceAirCarrier}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'France' and shipType == 'Battleship'}">
                                    <li th:each="FranceBattleship : ${nameList.FranceBattleshipList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${FranceBattleship})}">
                                            <span th:text="${FranceBattleship}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'France' and shipType == 'Cruiser'}">
                                    <li th:each="FranceCruiser : ${nameList.FranceCruiserList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${FranceCruiser})}">
                                            <span th:text="${FranceCruiser}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'France' and shipType == 'Destroyer'}">
                                    <li th:each="FranceDestroyer : ${nameList.FranceDestroyerList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${FranceDestroyer})}">
                                            <span th:text="${FranceDestroyer}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'France' and shipType == 'Premium'}">
                                    <li th:each="FrancePremium : ${nameList.FrancePremiumList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${FrancePremium})}">
                                            <span th:text="${FrancePremium}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Germany' and shipType == 'AirCarrier'}">
                                    <li th:each="GermanyAirCarrier : ${nameList.GermanyAirCarrierList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${GermanyAirCarrier})}">
                                            <span th:text="${GermanyAirCarrier}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Germany' and shipType == 'Battleship'}">
                                    <li th:each="GermanyBattleship : ${nameList.GermanyBattleshipList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${GermanyBattleship})}">
                                            <span th:text="${GermanyBattleship}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Germany' and shipType == 'Cruiser'}">
                                    <li th:each="GermanyCruiser : ${nameList.GermanyCruiserList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${GermanyCruiser})}">
                                            <span th:text="${GermanyCruiser}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Germany' and shipType == 'Destroyer'}">
                                    <li th:each="GermanyDestroyer : ${nameList.GermanyDestroyerList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${GermanyDestroyer})}">
                                            <span th:text="${GermanyDestroyer}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Germany' and shipType == 'Premium'}">
                                    <li th:each="GermanyPremium : ${nameList.GermanyPremiumList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${GermanyPremium})}">
                                            <span th:text="${GermanyPremium}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Japan' and shipType == 'AirCarrier'}">
                                    <li th:each="JapanAirCarrier : ${nameList.JapanAirCarrierList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${JapanAirCarrier})}">
                                            <span th:text="${JapanAirCarrier}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Japan' and shipType == 'Battleship'}">
                                    <li th:each="JapanBattleship : ${nameList.JapanBattleshipList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${JapanBattleship})}">
                                            <span th:text="${JapanBattleship}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Japan' and shipType == 'Cruiser'}">
                                    <li th:each="JapanCruiser : ${nameList.JapanCruiserList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${JapanCruiser})}">
                                            <span th:text="${JapanCruiser}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Japan' and shipType == 'Destroyer'}">
                                    <li th:each="JapanDestroyer : ${nameList.JapanDestroyerList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${JapanDestroyer})}">
                                            <span th:text="${JapanDestroyer}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Japan' and shipType == 'Premium'}">
                                    <li th:each="JapanPremium : ${nameList.JapanPremiumList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${JapanPremium})}">
                                            <span th:text="${JapanPremium}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Pan-Asia' and shipType == 'Premium'}">
                                    <li th:each="PanAsiaPremium : ${nameList.PanAsiaPremiumList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${PanAsiaPremium})}">
                                            <span th:text="${PanAsiaPremium}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'Poland' and shipType == 'Premium'}">
                                    <li th:each="PolandPremium : ${nameList.PolandPremiumList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${PolandPremium})}">
                                            <span th:text="${PolandPremium}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.K.' and shipType == 'AirCarrier'}">
                                    <li th:each="UKAirCarrier : ${nameList.UKAirCarrierList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${UKAirCarrier})}">
                                            <span th:text="${UKAirCarrier}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.K.' and shipType == 'Battleship'}">
                                    <li th:each="UKBattleship : ${nameList.UKBattleshipList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${UKBattleship})}">
                                            <span th:text="${UKBattleship}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.K.' and shipType == 'Cruiser'}">
                                    <li th:each="UKCruiser : ${nameList.UKCruiserList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${UKCruiser})}">
                                            <span th:text="${UKCruiser}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.K.' and shipType == 'Destroyer'}">
                                    <li th:each="UKDestroyer : ${nameList.UKDestroyerList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${UKDestroyer})}">
                                            <span th:text="${UKDestroyer}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.K.' and shipType == 'Premium'}">
                                    <li th:each="UKPremium : ${nameList.UKPremiumList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${UKPremium})}">
                                            <span th:text="${UKPremium}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.S.A.' and shipType == 'AirCarrier'}">
                                    <li th:each="USAAirCarrier : ${nameList.USAAirCarrierList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${USAAirCarrier})}">
                                            <span th:text="${USAAirCarrier}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.S.A.' and shipType == 'Battleship'}">
                                    <li th:each="USABattleship : ${nameList.USABattleshipList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${USABattleship})}">
                                            <span th:text="${USABattleship}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.S.A.' and shipType == 'Cruiser'}">
                                    <li th:each="USACruiser : ${nameList.USACruiserList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${USACruiser})}">
                                            <span th:text="${USACruiser}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.S.A.' and shipType == 'Destroyer'}">
                                    <li th:each="USADestroyer : ${nameList.USADestroyerList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${USADestroyer})}">
                                            <span th:text="${USADestroyer}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.S.A.' and shipType == 'Premium'}">
                                    <li th:each="USAPremium : ${nameList.USAPremiumList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${USAPremium})}">
                                            <span th:text="${USAPremium}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.S.S.R.' and shipType == 'AirCarrier'}">
                                    <li th:each="USSRAirCarrier : ${nameList.USSRAirCarrierList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${USSRAirCarrier})}">
                                            <span th:text="${USSRAirCarrier}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.S.S.R.' and shipType == 'Battleship'}">
                                    <li th:each="USSRBattleship : ${nameList.USSRBattleshipList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${USSRBattleship})}">
                                            <span th:text="${USSRBattleship}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.S.S.R.' and shipType == 'Cruiser'}">
                                    <li th:each="USSRCruiser : ${nameList.USSRCruiserList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${USSRCruiser})}">
                                            <span th:text="${USSRCruiser}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.S.S.R.' and shipType == 'Destroyer'}">
                                    <li th:each="USSRDestroyer : ${nameList.USSRDestroyerList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${USSRDestroyer})}">
                                            <span th:text="${USSRDestroyer}"/>
                                        </a>
                                    </li>
                                </ul>
                                <ul th:if="${nation == 'U.S.S.R.' and shipType == 'Premium'}">
                                    <li th:each="USSRPremium : ${nameList.USSRPremiumList}">
                                        <a th:href="@{/?shipName={shipName}(shipName=${USSRPremium})}">
                                            <span th:text="${USSRPremium}"/>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        <div th:if="${name != null}" id="name">
            <h1 th:text="${name}"/>
            <img th:src="${imagesMedium}" />
        </div>
    </div>
</header>
<main>
    <div class="container">
        <div id="ship">
            <div id="modulesUpgradesConsumables">
                <div id="modules">
                    <div th:if="${not #lists.isEmpty(flightControlIndexList)}" id="flightControlList">
                        <li th:onclick="'flightControl(\'' + ${flightControl.index} +'\', \''+ ${flightControlIndexList} + '\');'" th:each="flightControl : ${flightControlUpgradeList}" th:id="${flightControl}">
                            <button class="button_module" th:id="${flightControl.index}">
                                <img th:src="@{/images/Upgrades/icon_module_flightcontrol.png}" /><br />
                                <span th:text="${flightControl.name}"/>
                            </button>
                        </li>
                    </div>
                    <div th:if="${not #lists.isEmpty(turretIndexList)}" id="turretList">
                        <li th:onclick="'turret(\'' + ${turret.index} +'\', \''+ ${turretIndexList} + '\');'" th:each="turret : ${turretUpgradeList}" th:id="${turret}">
                            <button class="button_module" th:id="${turret.index}">
                                <img th:src="@{/images/Upgrades/icon_module_maingun.png}" /><br />
                                <span th:text="${turret.name}"/>
                            </button>
                        </li>
                    </div>
                    <div id="hullList">
                        <li th:onclick="'hull(\'' + ${hull.index} +'\', \''+ ${hullIndexList} + '\');'" th:each="hull : ${hullUpgradeList}" th:id="${hull}">
                            <button class="button_module" th:id="${hull.index}">
                                <img th:src="@{/images/Upgrades/icon_module_hull.png}" /><br />
                                <span th:text="${hull.name}"/>
                            </button>
                        </li>
                    </div>
                    <div th:if="${not #lists.isEmpty(fighterIndexList)}" id="fighterList">
                        <li th:onclick="'fighter(\'' + ${fighter.index} +'\', \''+ ${fighterIndexList} + '\');'" th:each="fighter : ${fighterUpgradeList}" th:id="${fighter}">
                            <button class="button_module" th:id="${fighter.index}">
                                <img th:src="@{/images/Upgrades/icon_module_fighter.png}" /><br />
                                <span th:text="${fighter.name}"/>
                            </button>
                        </li>
                    </div>
                    <div th:if="${not #lists.isEmpty(torpedoBomberIndexList)}" id="torpedoBomberList">
                        <li th:onclick="'torpedoBomber(\'' + ${torpedoBomber.index} +'\', \''+ ${torpedoBomberIndexList} + '\');'" th:each="torpedoBomber : ${torpedoBomberUpgradeList}" th:id="${torpedoBomber}">
                            <button class="button_module" th:id="${torpedoBomber.index}">
                                <img th:src="@{/images/Upgrades/icon_module_torpedobomber.png}" /><br />
                                <span th:text="${torpedoBomber.name}"/>
                            </button>
                        </li>
                    </div>
                    <div th:if="${not #lists.isEmpty(diveBomberIndexList)}" id="diveBomberList">
                        <li th:onclick="'diveBomber(\'' + ${diveBomber.index} +'\', \''+ ${diveBomberIndexList} + '\');'" th:each="diveBomber : ${diveBomberUpgradeList}" th:id="${diveBomber}">
                            <button class="button_module" th:id="${diveBomber.index}">
                                <img th:src="@{/images/Upgrades/icon_module_divebomber.png}" /><br />
                                <span th:text="${diveBomber.name}"/>
                            </button>
                        </li>
                    </div>
                    <div id="engineList">
                        <li th:onclick="'engine(\'' + ${engine.index} +'\', \''+ ${engineIndexList} + '\');'" th:each="engine : ${engineUpgradeList}" th:id="${engine}">
                            <button class="button_module" th:id="${engine.index}">
                                <img th:src="@{/images/Upgrades/icon_module_engine.png}" /><br />
                                <span th:text="${engine.name}"/>
                            </button>
                        </li>
                    </div>
                    <div th:if="${not #lists.isEmpty(radarIndexList)}" id="radarList">
                        <li th:onclick="'radar(\'' + ${radar.index} +'\', \''+ ${radarIndexList} + '\');'" th:each="radar : ${radarUpgradeList}" th:id="${radar}">
                            <button class="button_module" th:id="${radar.index}">
                                <img th:src="@{/images/Upgrades/icon_module_radar.png}" /><br />
                                <span th:text="${radar.name}"/>
                            </button>
                        </li>
                    </div>
                    <div th:if="${not #lists.isEmpty(torpedoIndexList)}" id="torpedoList">
                        <li th:onclick="'torpedo(\'' + ${torpedo.index} +'\', \''+ ${torpedoIndexList} + '\');'" th:each="torpedo : ${torpedoUpgradeList}" th:id="${torpedo}">
                            <button class="button_module" th:id="${torpedo.index}">
                                <img th:src="@{/images/Upgrades/icon_module_torpedoes.png}" /><br />
                                <span th:text="${torpedo.name}"/>
                            </button>
                        </li>
                    </div>
                </div>
                <div id="upgradesList">
                    <div th:if="${not #lists.isEmpty(upgrades1)}" id="upgrades">
                        <table id="upgradeTable">
                        </table>
                    </div>
                </div>
                <div th:if="${not #lists.isEmpty(name)}" id="skills">
                    <b>Captain Points </b><span class="skillPointsCount"/><span> / 18</span><br />
                    <table id="skillsTable">
                    </table>
                </div>
            </div>
            <div id="skillsList">
            </div>
            <div id="CamouflagesFlags">
                <div id="Camouflages">
                    <div th:if="${not #lists.isEmpty(camouflages)}" id="CamouflagesList">
                        <table id="camouTable">
                        </table>
                    </div>
                </div>
                <div id="Flags">
                    <div th:if="${not #lists.isEmpty(flags)}" id="FlagsList">
                        <table id="flagTable">
                        </table>
                    </div>
                </div>
                <div id="ConsumablesList">
                    <div th:if="${not #lists.isEmpty(consume1List)}" id="consume1List">
                        <li th:onclick="'consume(\'' + ${consume1} +'\', \''+ ${consume1List} + '\', \''+ 1 + '\');'" th:each="consume1 : ${consume1List}" th:id="${consume1[0]}">
                            <button class="button_consumable" th:id="${consume1[0]}">
                                <img th:src="@{'/images/Consumables/'+ ${consume1[0]} +'.png'}" /><br />
                            </button>
                        </li>
                    </div>
                    <div th:if="${not #lists.isEmpty(consume2List)}" id="consume2List">
                        <li th:onclick="'consume(\'' + ${consume2} +'\', \''+ ${consume2List} + '\', \''+ 2 + '\');'" th:each="consume2 : ${consume2List}" th:id="${consume2[0]}">
                            <button class="button_consumable" th:id="${consume2[0]}">
                                <img th:src="@{'/images/Consumables/'+ ${consume2[0]} +'.png'}" /><br />
                            </button>
                        </li>
                    </div>
                    <div th:if="${not #lists.isEmpty(consume3List)}" id="consume3List">
                        <li th:onclick="'consume(\'' + ${consume3} +'\', \''+ ${consume3List} + '\', \''+ 3 + '\');'" th:each="consume3 : ${consume3List}" th:id="${consume3[0]}">
                            <button class="button_consumable" th:id="${consume3[0]}">
                                <img th:src="@{'/images/Consumables/'+ ${consume3[0]} +'.png'}" /><br />
                            </button>
                        </li>
                    </div>
                    <div th:if="${not #lists.isEmpty(consume4List)}" id="consume4List">
                        <li th:onclick="'consume(\'' + ${consume4} +'\', \''+ ${consume4List} + '\', \''+ 4 + '\');'" th:each="consume4 : ${consume4List}" th:id="${consume4[0]}">
                            <button class="button_consumable" th:id="${consume4[0]}">
                                <img th:src="@{'/images/Consumables/'+ ${consume4[0]} +'.png'}" /><br />
                            </button>
                        </li>
                    </div>
                </div>
            </div>
            <br />
            <div id="stats">
                <div id="hullStats" class="hullStats">
                    <div th:if="${not #lists.isEmpty(hullIndexList)}" id="hull" class="hull">
                        <b>Hull</b><br />
                        Tier<span class="tier"/><br />
                        Health<span class="maxHP"/><br />
                        Speed<span class="speed"/><br />
                        Rudder Shift<span class="rudderShift"/><br />
                        Turn Radius<span class="turningRadius"/><br />
                        Surface Conceal<span style="padding-left: 4em" class="sConceal"/><br />
                        Air Conceal<span class="aConceal"/><br />
                        Burn Time<span class="burnTime"/><br />
                        Flood Time<span class="floodTime"/><br />
                    </div>
                </div>
                <div id="blank1" class="blank">
                    <span style="padding-left: 1em"/>
                </div>
                <div id="mainWeaponStats" class="mainWeaponStats">
                    <div th:if="${not #lists.isEmpty(turretIndexList)}" id="mainGun" class="mainGun">
                        <b>Main Battery</b><br />
                        Barrels<span class="barrels"/><br />
                        Range<span class="maxMainGunRange"/><br />
                        Reload<span class="mainGunReload"/><br />
                        Rotation<span class="mainGunRotation"/><br />
                        <span class="mainGunRotationTime"/><br />
                        <b>Shells</b><br />
                        AP Speed<span class="APShellSpeed"/><br />
                        AP Damage<span class="APShellDMG"/><br />
                        HE Speed<span class="HEShellSpeed"/><br />
                        HE Damage<span class="HEShellDMG"/><br />
                        Burn Probability<span style="padding-left: 4em" class="HEShellBurnProb"/><br />
                        Dispersion<span class="mainGunDispersionRange"/><br />
                        Sigma<span class="sigmaCount"/><br />
                        Stealth<span class="stealthFireSurfaceDetection"/><br />
                        <br />
                    </div>
                    <div th:if="${not #lists.isEmpty(torpedoIndexList)}" id="torpedo" class="torpedo">
                        <b>Torpedoes</b><br />
                        Tubes<span class="tubes"/><br />
                        Range<span class="maxTorpedoRange"/><br />
                        Reload<span class="torpedoReload"/><br />
                        Speed<span  class="torpedoSpeed"/><br />
                        Detection<span style="padding-left: 6em" class="torpedoVisibilityFactor"/><br />
                        <br />
                    </div>
                    <div th:if="${not #lists.isEmpty(flightControlIndexList)}" id="aircraft" class="aircraft">
                        <b>Fighter</b><br />
                        <!--<button onclick="showPlanes(this.id)" class="fighterName"/><br />-->
                        Squadrons<span style="padding-left: 6em" class="fighterSquadrons"/><br />
                        Size<span class="fighterSquadronSize"/><br />
                        Reserves<span class="fighterReserves"/><br />
                        <br />
                        <b>Torpedo Bomber</b><br />
                        <!--<button onclick="showPlanes(this.id)" class="torpedoBomberName"/><br />-->
                        Squadrons<span class="torpedoBomberSquadrons"/><br />
                        Size<span class="torpedoBomberSquadronSize"/><br />
                        Reserves<span class="torpedoBomberReserves"/><br />
                        <br />
                        <b>Dive Bomber</b><br />
                        <!--<button onclick="showPlanes(this.id)" class="diveBomberName"/><br />-->
                        Squadrons<span class="diveBomberSquadrons"/><br />
                        Size<span class="diveBomberSquadronSize"/><br />
                        Reserves<span class="diveBomberReserves"/><br />
                        <br />
                    </div>
                </div>
                <div id="blank2" class="blank">
                    <span style="padding-left: 1em"/>
                </div>
                <div id="AASecondaryStats" class="AASecondaryStats">
                    <div th:if="${not #lists.isEmpty(hullIndexList)}" id="AASecondary" class="AASecondary">
                        <b>Anti-Air</b><br />
                        Far Range<span class="antiAirAuraDistanceFar"/><br />
                        Far DPS<span class="AAFarDPS"/><br />
                        Medium Range<span style="padding-left: 4em" class="antiAirAuraDistanceMedium"/><br />
                        Medium DPS<span class="AAMediumDPS"/><br />
                        Near Range<span class="antiAirAuraDistanceNear"/><br />
                        Near DPS<span class="AANearDPS"/><br />
                        <br />
                        <b>Secondary</b><br />
                        Range<span class="secondaryMaxDist"/><br />
                    </div>
                </div>
                <div id="blank3" class="blank">
                    <span style="padding-left: 1em"/>
                </div>
                <div id="ConsumablesStats" class="ConsumablesStats">
                    <div th:if="${not #lists.isEmpty(consume1List)}" id="Consumables1" class="Consumables1">
                        <b>Consumables</b><br />
                        <b>Slot 1</b><br />
                        Count<span style="padding-left: 4em" class="Consumable1Count"/><br />
                        Duration<span class="Consumable1Duration"/><br />
                        Reload<span class="Consumable1Reload"/><br />
                        <br />
                    </div>
                    <div th:if="${not #lists.isEmpty(consume2List)}" id="Consumables2" class="Consumables2">
                        <b>Slot 2</b><br />
                        Count<span class="Consumable2Count"/><br />
                        Duration<span class="Consumable2Duration"/><br />
                        Reload<span class="Consumable2Reload"/><br />
                        <br />
                    </div>
                    <div th:if="${not #lists.isEmpty(consume3List)}" id="Consumables3" class="Consumables3">
                        <b>Slot 3</b><br />
                        Count<span class="Consumable3Count"/><br />
                        Duration<span class="Consumable3Duration"/><br />
                        Reload<span class="Consumable3Reload"/><br />
                        <br />
                    </div>
                    <div th:if="${not #lists.isEmpty(consume4List)}" id="Consumables4" class="Consumables4">
                        <b>Slot 4</b><br />
                        Count<span class="Consumable4Count"/><br />
                        Duration<span class="Consumable4Duration"/><br />
                        Reload<span class="Consumable4Reload"/><br />
                        <br />
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<script th:inline="javascript" th:src="@{/js/WoWSSSC/Variables.js}"></script>
<script th:inline="javascript" th:src="@{/js/WoWSSSC/ShipModules.js}"></script>
<script th:inline="javascript" th:src="@{/js/WoWSSSC/ShipUpgrades.js}"></script>
<script th:inline="javascript" th:src="@{/js/WoWSSSC/ShipSkills.js}"></script>
<script th:inline="javascript" th:src="@{/js/WoWSSSC/ShipConsumables.js}"></script>
<script th:inline="javascript" th:src="@{/js/WoWSSSC/ShipCamouflages.js}"></script>
<script th:inline="javascript" th:src="@{/js/WoWSSSC/ShipFlags.js}"></script>
<script th:inline="javascript">
//    <![CDATA[

    function load(name)
    {
        if (name != null)
        {
            shipName = name;
            shipNation = [[${nation}]];
            tier = [[${tier}]];
            shipType = [[${shipType}]];

            skillsImageLocation = [[@{/images/Skills/}]];
            camouImageLocation = [[@{/images/Camouflages/}]];
            flagImageLocation = [[@{/images/Flags/}]];
            upgradeImageLocation = [[@{/images/Modules/}]];

            ship_id_str = [[${ship_id_str}]];

            gpShipJSON = [[${gpShipJSON}]];
            gpShipUpgradeInfo = gpShipJSON['ShipUpgradeInfo'];

            apiArtilleryUpgradeJSON = [[${apiTurretJSON}]];
            apiHullUpgradeJSON = [[${apiHullJSON}]];
            apiEngineUpgradeJSON = [[${apiEngineJSON}]];
            apiRadarUpgradeJSON = [[${apiRadarJSON}]];
            apiTorpedoUpgradeJSON = [[${apiTorpedoJSON}]];
            apiFlightControlUpgradeJSON = [[${apiFlightControlJSON}]];
            apiFighterUpgradeJSON = [[${apiFighterJSON}]];
            apiTorpedoBomberUpgradeJSON = [[${apiTorpedoBomberJSON}]];
            apiDiveBomberUpgradeJSON = [[${apiDiveBomberJSON}]];

            camouflageList = [[${camouflages}]];
            flagsList = [[${flags}]];

            skills = [[${skills}]];

            if ([[${radarUpgradeList}]].length > 0)
            {
                radar([[${radarUpgradeList}]][0], [[${radarUpgradeList}]]);
            }

            engine([[${engineUpgradeList}]][0], [[${engineUpgradeList}]]);

            hull([[${hullUpgradeList}]][0], [[${hullUpgradeList}]]);

            if ([[${turretUpgradeList}]].length > 0)
            {
                turret([[${turretUpgradeList}]][0], [[${turretUpgradeList}]]);
            }

            if ([[${torpedoUpgradeList}]].length > 0)
            {
                torpedo([[${torpedoUpgradeList}]][0], [[${torpedoUpgradeList}]]);
            }

            if ([[${flightControlUpgradeList}]].length > 0)
            {
                flightControl([[${flightControlUpgradeList}]][0], [[${flightControlUpgradeList}]]);
            }

            if ([[${fighterUpgradeList}]].length > 0)
            {
                fighter([[${fighterUpgradeList}]][0], [[${fighterUpgradeList}]]);
            }

            if ([[${torpedoBomberUpgradeList}]].length > 0)
            {
                torpedoBomber([[${torpedoBomberUpgradeList}]][0], [[${torpedoBomberUpgradeList}]]);
            }

            if ([[${diveBomberUpgradeList}]].length > 0)
            {
                diveBomber([[${diveBomberUpgradeList}]][0], [[${diveBomberUpgradeList}]]);
            }

//            if ([[${modSlot1}]].length > 0)
//            {
//                mod([[${modSlot1}]][0], [[${modSlot1}]]);
//            }
//
//            if ([[${modSlot2}]].length > 0)
//            {
//                mod([[${modSlot2}]][0], [[${modSlot2}]]);
//            }
//
//            if ([[${modSlot3}]].length > 0)
//            {
//                mod([[${modSlot3}]][0], [[${modSlot3}]]);
//            }
//
//            if ([[${modSlot4}]].length > 0)
//            {
//                mod([[${modSlot4}]][0], [[${modSlot4}]]);
//            }
//
//            if ([[${modSlot5}]].length > 0)
//            {
//                mod([[${modSlot5}]][0], [[${modSlot5}]]);
//            }
//
//            if ([[${modSlot6}]].length > 0)
//            {
//                mod([[${modSlot6}]][0], [[${modSlot6}]]);
//            }

            if ([[${consume1List}]].length > 0)
            {
                consume([[${consume1List}]][0], [[${consume1List}]], 1);
            }
            if ([[${consume2List}]].length > 0)
            {
                consume([[${consume2List}]][0], [[${consume2List}]], 2);
            }
            if ([[${consume3List}]].length > 0)
            {
                consume([[${consume3List}]][0], [[${consume3List}]], 3);
            }
            if ([[${consume4List}]].length > 0)
            {
                consume([[${consume4List}]][0], [[${consume4List}]], 4);
            }
            
            if ([[${upgrades1}]] != null)
            {
                upgrades1 = [[${upgrades1}]];
            }
            if ([[${upgrades2}]] != null)
            {
                upgrades2 = [[${upgrades2}]];
            }
            if ([[${upgrades3}]] != null)
            {
                upgrades3 = [[${upgrades3}]];
            }
            if ([[${upgrades4}]] != null)
            {
                upgrades4 = [[${upgrades4}]];
            }
            if ([[${upgrades5}]] != null)
            {
                upgrades5 = [[${upgrades5}]];
            }
            if ([[${upgrades6}]] != null)
            {
                upgrades6 = [[${upgrades6}]];
            }

            setUpgrades();

            setCamouflage();

            setFlag();

            setCrewSkills();
        }
    }
    window.onload = load([[${name}]]);

    function refresh()
    {
        document.querySelector('.skillPointsCount').innerHTML = skillPointsCount;
        document.querySelector('.hullStats .tier').innerHTML = tier.toString();
        document.querySelector('.hullStats .maxHP').innerHTML = accounting.formatNumber(maxHP + healthPerLevel * tier, 0, ",", ".");
        document.querySelector('.hullStats .speed').innerHTML = accounting.formatNumber((speed * speedCoef * speedCoefFlag), 1, ",", ".") + " kts";
        document.querySelector('.hullStats .rudderShift').innerHTML = accounting.formatNumber(rudderShift * SGM2_SGRudderTime, 1, ",", ".") + " s";
        document.querySelector('.hullStats .turningRadius').innerHTML = accounting.formatNumber(turningRadius, 0, ",", ".") + " m";
        document.querySelector('.hullStats .sConceal').innerHTML = accounting.formatNumber(sConceal * CSM1_visibilityDistCoeff * VisibilityModifier * visibilityFactorCamo, 2, ",", ".") + " km";
        document.querySelector('.hullStats .aConceal').innerHTML = accounting.formatNumber(aConceal * CSM1_visibilityDistCoeff * VisibilityModifier * visibilityFactorByPlaneCamo, 2, ",", ".") + " km";
        document.querySelector('.hullStats .burnTime').innerHTML = accounting.formatNumber(burnTime * DCSM2_burnTime * critTimeCoefficient * burnTimeFlag, 1, ",", ".") + " s";
        document.querySelector('.hullStats .floodTime').innerHTML = accounting.formatNumber(floodTime * DCSM2_floodTime * critTimeCoefficient * floodTimeFlag, 1, ",", ".") + " s";

        if (numBarrels > 0)
        {
            document.querySelector('.mainWeaponStats .barrels').innerHTML = numTurrets.toString() + " X " + numBarrels.toString();
            if (0.140 > turretBarrelDiameter)
            {
                document.querySelector('.mainWeaponStats .maxMainGunRange').innerHTML = accounting.formatNumber(maxMainGunRange * maxDistCoef * APRM1US_GMMaxDist * GFCSM2_GMMaxDist * smallGunRangeCoefficient, 0, ",", ".") + " m";
                document.querySelector('.mainWeaponStats .mainGunReload').innerHTML = accounting.formatNumber(mainGunReload * MBM2_GMShotDelay * MBM3_GMShotDelay * smallGunReloadCoefficient, 1, ",", ".") + " s";
                document.querySelector('.mainWeaponStats .mainGunRotation').innerHTML = accounting.formatNumber((mainGunRotation + smallGunBonus) * ASM0_GMRotationSpeed * MBM2_GMRotationSpeed * MBM3_GMRotationSpeed, 1, ",", ".") + " deg/s";
                document.querySelector('.mainWeaponStats .mainGunRotationTime').innerHTML = accounting.formatNumber(180 / (mainGunRotation + smallGunBonus) / ASM0_GMRotationSpeed / MBM2_GMRotationSpeed / MBM3_GMRotationSpeed, 1, ",", ".") + " s";
            }
            else
            {
                document.querySelector('.mainWeaponStats .maxMainGunRange').innerHTML = accounting.formatNumber(maxMainGunRange * maxDistCoef * APRM1US_GMMaxDist * GFCSM2_GMMaxDist, 0, ",", ".") + " m";
                document.querySelector('.mainWeaponStats .mainGunReload').innerHTML = accounting.formatNumber(mainGunReload * MBM2_GMShotDelay * MBM3_GMShotDelay, 1, ",", ".") + " s";
                document.querySelector('.mainWeaponStats .mainGunRotation').innerHTML = accounting.formatNumber((mainGunRotation + bigGunBonus) * ASM0_GMRotationSpeed * MBM2_GMRotationSpeed * MBM3_GMRotationSpeed, 1, ",", ".") + " deg/s";
                document.querySelector('.mainWeaponStats .mainGunRotationTime').innerHTML = accounting.formatNumber(180 / (mainGunRotation + bigGunBonus) / ASM0_GMRotationSpeed / MBM2_GMRotationSpeed / MBM3_GMRotationSpeed, 1, ",", ".") + " s";
            }

            if (0.160 > turretBarrelDiameter)
            {
                document.querySelector('.mainWeaponStats .HEShellBurnProb').innerHTML = accounting.formatNumber((HEShellBurnProb + probabilityBonusFire + burnChanceFactorSmallFlag_VL + burnChanceFactorSmallFlag_IX) * 100, 1, ",", ".") + " %";
            }
            else
            {
                document.querySelector('.mainWeaponStats .HEShellBurnProb').innerHTML = accounting.formatNumber((HEShellBurnProb + probabilityBonusFire + burnChanceFactorBigFlag_VL + burnChanceFactorBigFlag_IX) * 100, 1, ",", ".") + " %";

            }


            document.querySelector('.mainWeaponStats .APShellSpeed').innerHTML = APShellSpeed.toString() + " m/s";
            document.querySelector('.mainWeaponStats .APShellDMG').innerHTML = accounting.formatNumber(APShellDMG, 0, ",", ".");
            document.querySelector('.mainWeaponStats .HEShellSpeed').innerHTML = HEShellSpeed.toString() + " m/s";
            document.querySelector('.mainWeaponStats .HEShellDMG').innerHTML = accounting.formatNumber(HEShellDMG, 0, ",", ".");
            document.querySelector('.mainWeaponStats .mainGunDispersionRange').innerHTML = accounting.formatNumber(maxMainGunRange * maxDistCoef * mainGunDispersionTangent * 2 * ASM0_GMIdealRadius * ASM1_GMIdealRadius * APRM2US_GMIdealRadius, 0, ",", ".") + " m";
            document.querySelector('.mainWeaponStats .sigmaCount').innerHTML = sigmaCount.toString();
            document.querySelector('.mainWeaponStats .stealthFireSurfaceDetection').innerHTML = accounting.formatNumber((sConceal * CSM1_visibilityDistCoeff * VisibilityModifier * visibilityFactorCamo + stealthFireSurfaceDetection), 2, ",", ".") + " km";
        }

        document.querySelector('.AASecondaryStats .antiAirAuraDistanceFar').innerHTML = accounting.formatNumber(antiAirAuraDistanceFar * AAGM2_AAMaxDist * airDefenceRangeCoefficient, 2, ",", ".") + " km";
        if (AAFarBarrelDiameter > 0.085)
        {
            document.querySelector('.AASecondaryStats .AAFarDPS').innerHTML = accounting.formatNumber(AAFarDPS * AAGM3_AAAura * airDefenceEfficiencyCoefficient * airDefenceSelectedTargetCoefficient * AAAuraFlag, 1, ",", ".");
        }
        else
        {
            document.querySelector('.AASecondaryStats .AAFarDPS').innerHTML = accounting.formatNumber(AAFarDPS * AAGM3_AAAura * airDefenceEfficiencyCoefficient * AAAuraFlag, 1, ",", ".");
        }
        document.querySelector('.AASecondaryStats .antiAirAuraDistanceMedium').innerHTML = accounting.formatNumber(antiAirAuraDistanceMedium * AAGM2_AAMaxDist * airDefenceRangeCoefficient , 2, ",", ".") + " km";
        document.querySelector('.AASecondaryStats .AAMediumDPS').innerHTML = accounting.formatNumber(AAMediumDPS * AAGM3_AAAura * airDefenceEfficiencyCoefficient * AAAuraFlag, 1, ",", ".");
        document.querySelector('.AASecondaryStats .antiAirAuraDistanceNear').innerHTML = accounting.formatNumber(antiAirAuraDistanceNear * AAGM2_AAMaxDist * airDefenceRangeCoefficient, 2, ",", ".") + " km";
        document.querySelector('.AASecondaryStats .AANearDPS').innerHTML = accounting.formatNumber(AANearDPS * AAGM3_AAAura * airDefenceEfficiencyCoefficient * AAAuraFlag, 1, ",", ".");
        document.querySelector('.AASecondaryStats .secondaryMaxDist').innerHTML = accounting.formatNumber(secondaryMaxDist * ASM0_GSMaxDist * ASM1_GSMaxDist * APRM1US_GSMaxDist * SBM2_GSMaxDist * smallGunRangeCoefficient, 0, ",", ".") + " m";

        if (numTubes > 0)
        {
            document.querySelector('.torpedo .tubes').innerHTML = numTorpTurrets.toString() + " X " + numTubes.toString();
            document.querySelector('.torpedo .maxTorpedoRange').innerHTML = accounting.formatNumber(maxTorpedoRange * torpedoRangeCoefficient, 2, ",", ".") + " km";
            document.querySelector('.torpedo .torpedoReload').innerHTML = accounting.formatNumber(torpedoReload * TTMM3_GTShotDelay * launcherCoefficientTorpedoReload, 1, ",", ".") + " s";
            document.querySelector('.torpedo .torpedoSpeed').innerHTML = accounting.formatNumber(torpedoSpeed + torpedoSpeedBonus, 1, ",", ".") + " kts";
            document.querySelector('.torpedo .torpedoVisibilityFactor').innerHTML = accounting.formatNumber(torpedoVisibilityFactor, 2, ",", ".") + " km";
        }

        if (totalSquadronCount > 0)
        {
//            document.querySelector('.aircraft .fighterName').innerHTML = fighterName;
//            document.querySelector('.aircraft .torpedoBomberName').innerHTML = torpedoBomberName;
//            document.querySelector('.aircraft .diveBomberName').innerHTML = diveBomberName;
            document.querySelector('.aircraft .fighterSquadrons').innerHTML = accounting.formatNumber(fighterSquadronCount, 0, ",", ".");
            document.querySelector('.aircraft .fighterSquadronSize').innerHTML = accounting.formatNumber(fighterSquadronSize + fighterCountSkill, 0, ",", ".");
            document.querySelector('.aircraft .fighterReserves').innerHTML = accounting.formatNumber(fighterCount, 0, ",", ".");
            document.querySelector('.aircraft .torpedoBomberSquadrons').innerHTML = accounting.formatNumber(torpedoBomberSquadronCount, 0, ",", ".");
            document.querySelector('.aircraft .torpedoBomberSquadronSize').innerHTML = accounting.formatNumber(torpedoBomberSquadronSize + torpedoBomberCountSkill, 0, ",", ".");
            document.querySelector('.aircraft .torpedoBomberReserves').innerHTML = accounting.formatNumber(torpedoBomberCount, 0, ",", ".");
            document.querySelector('.aircraft .diveBomberSquadrons').innerHTML = accounting.formatNumber(diveBomberSquadronCount, 0, ",", ".");
            document.querySelector('.aircraft .diveBomberSquadronSize').innerHTML = accounting.formatNumber(diveBomberSquadronSize + diveBomberCountSkill, 0, ",", ".");
            document.querySelector('.aircraft .diveBomberReserves').innerHTML = accounting.formatNumber(diveBomberCount, 0, ",", ".");
        }

        if ([[${consume1List}]].length > 0)
        {
            if (additionalConsumables > 0 && numConsumables1 != 'Infinite')
            {
                document.querySelector('.Consumables1 .Consumable1Count').innerHTML = numConsumables1 + additionalConsumables;
            }
            else
            {
                document.querySelector('.Consumables1 .Consumable1Count').innerHTML = numConsumables1;
            }            
            document.querySelector('.Consumables1 .Consumable1Duration').innerHTML = workTime1 + ' s';
            document.querySelector('.Consumables1 .Consumable1Reload').innerHTML = accounting.formatNumber(reloadTime1 * critTimeCoefficient * reloadCoefficientAllSkills * reloadCoefficientDamageControl * abilReloadTimeFactorFlag, 1, ",", ".") + ' s';
        }

        if ([[${consume2List}]].length > 0)
        {
            if (additionalConsumables > 0 && numConsumables2 != 'Infinite')
            {
                document.querySelector('.Consumables2 .Consumable2Count').innerHTML = numConsumables2 + additionalConsumables;
            }
            else
            {
                document.querySelector('.Consumables2 .Consumable2Count').innerHTML = numConsumables2;
            }
            document.querySelector('.Consumables2 .Consumable2Duration').innerHTML = workTime2 + ' s';
            document.querySelector('.Consumables2 .Consumable2Reload').innerHTML = accounting.formatNumber(reloadTime2 * reloadCoefficientAllSkills * abilReloadTimeFactorFlag, 1, ",", ".") + ' s';
        }

        if ([[${consume3List}]].length > 0)
        {
            if (additionalConsumables > 0 && numConsumables3 != 'Infinite')
            {
                document.querySelector('.Consumables3 .Consumable3Count').innerHTML = numConsumables3 + additionalConsumables;
            }
            else
            {
                document.querySelector('.Consumables3 .Consumable3Count').innerHTML = numConsumables3;
            }
            document.querySelector('.Consumables3 .Consumable3Duration').innerHTML = workTime3 + ' s';
            document.querySelector('.Consumables3 .Consumable3Reload').innerHTML = accounting.formatNumber(reloadTime3 * reloadCoefficientAllSkills * abilReloadTimeFactorFlag, 1, ",", ".") + ' s';
        }

        if ([[${consume4List}]].length > 0)
        {
            if (additionalConsumables > 0 && numConsumables4 != 'Infinite')
            {
                document.querySelector('.Consumables4 .Consumable4Count').innerHTML = numConsumables4 + additionalConsumables;
            }
            else
            {
                document.querySelector('.Consumables4 .Consumable4Count').innerHTML = numConsumables4;
            }
            document.querySelector('.Consumables4 .Consumable4Duration').innerHTML = workTime4 + ' s';
            document.querySelector('.Consumables4 .Consumable4Reload').innerHTML = accounting.formatNumber(reloadTime4 * reloadCoefficientAllSkills * abilReloadTimeFactorFlag, 1, ",", ".") + ' s';
        }
    }

//    ]]>
</script>
</body>
</html>